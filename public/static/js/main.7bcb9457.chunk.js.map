{"version":3,"sources":["components/Header/index.js","components/Main/LinkOptions.js","components/Main/index.js","components/List/ClicksModal.js","components/List/UrlEditModal.js","components/List/index.js","components/config.js","components/App.js","components/Redirect.js","index.js"],"names":["Header","logout","user","login","authenticated","className","onClick","LinkOptions","passwordProtect","setPasswordProtect","password","setPassword","alias","setAlias","loading","expire","setExpire","aliasAllowed","setAliasAllowed","passwordError","aliasError","passwordTouched","setPasswordTouched","setError","React","useState","aliasDebounce","setAliasDebounce","aliasAllowedText","setAliasAllowedText","useEffect","length","startsWith","timerID","setTimeout","axios","get","then","data","exists","catch","err","response","message","console","log","clearTimeout","disabled","type","checked","onChange","name","style","marginTop","marginBottom","placeholder","value","e","target","window","location","href","split","Main","accessToken","username","mobileMode","shortURL","setShortURL","shorten","setShorten","options","setOptions","setLoading","url","setUrl","linkOptions","setLinkOptions","urlTouched","setUrlTouched","urlError","setUrlError","setPasswordError","setAliasError","copyButtonText","setCopyButtonText","handleSubmit","a","preventDefault","highlightErrorFields","dataObj","full","undefined","short","state","method","res","status","shortUrl","error","test","marginRight","wordBreak","rel","slice","fullLink","document","createElement","body","appendChild","select","execCommand","remove","display","onSubmit","prev","ClicksModal","isModalVisible","modalInfo","setModalInfo","modalStartDate","setModalStartDate","modalEndDate","setModalEndDate","Admin","setData","barchartData","setBarchartData","piechartData","setPieChartData","worldmapData","setWorldmapData","routerHistory","useHistory","escapeButtonListener","push","addEventListener","removeEventListener","clicksDates","tempClicks","tempReferrers","tempLocations","forEach","date","referrer","dateinformat","Date","getDate","getMonth","getFullYear","action","modalStartDateFormat","format","modalEndDateFormat","finalClicks","finalReferrers","finalLocations","Object","keys","key","clicks","sort","country","final2","final3","title","visible","footer","closeIcon","to","disabledDate","d","now","BarChart","width","height","XAxis","dataKey","YAxis","Tooltip","Bar","fill","PieChart","Pie","nameKey","cx","cy","outerRadius","Legend","color","size","frame","UrlEditModal","setIsModalVisible","urls","setUrls","confirmLoading","setConfirmLoading","inputValue","setInputValue","okText","onOk","patch","id","temp","idx","text","success","onCancel","flexDirection","alignItems","fontWeight","textAlign","marginLeft","border","outline","Option","Select","displaySuccess","List","refreshUrls","setRefreshUrls","tableLoading","setTableLoading","passwordVisible","setPasswordVisible","count","setCount","selectedRows","setSelectedRows","loading1","setLoading1","loading2","setLoading2","loading3","setLoading3","disabledDelete","setDisabledDelete","disabledDisable","setDisabledDisable","disabledEnable","setDisabledEnable","search","setSearch","searchDebounce","setSearchDebounce","pageNumber","SetPageNumber","pageSize","setPageSize","setSort","filter","setFilter","fullUrlModalVisible","setFullUrlModalVisible","fullUrlModalInfo","setFullUrlModalInfo","useRouteMatch","useParams","columns","dataIndex","render","getHours","getMinutes","getSeconds","fontSize","cursor","replace","splice","reqLink","post","finalList","shortUrls","_id","createdAt","reqLink2","changeStatusUrlsFromList","ids","find","map","some","rowSelection","selectedRowKeys","preserveSelectedRowKeys","hasSelected","delete","cancelText","position","top","v","Group","dataSource","scroll","x","pagination","current","total","onShowSizeChange","margin","config","appId","process","redirectUri","scopes","authority","withRouter","loginTimeoutID","SetCurrent","setAuthenticated","firstAuthCheck","setFirstAuthCheck","admin","setAdmin","setMobileMode","setUser","setAccessToken","setUsername","path","pathArray","pathname","localStorage","getItem","setItem","innerWidth","windowResizeEventListener","redirect","removeItem","publicClientApplication","PublicClientApplication","auth","clientId","logoutPopup","loginPopup","prompt","account","idToken","selectedKeys","mode","justifyContent","theme","Item","exact","Redirect","setText","enablePasswordInput","setInput","code","country_code","getElementById","innerText","backgroundColor","padding","onKeyPress","ReactDOM","component","App","RedirectComponent"],"mappings":"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","file":"static/js/main.7bcb9457.chunk.js","sourcesContent":["import \"./index.css\";\nimport React from \"react\";\nimport { Button } from \"antd\";\n\nconst Header = ({ logout, user, login, authenticated }) => {\n  return (\n    <div className=\"header\">\n      <div>\n        <p>GLAM URL Shortener</p>\n      </div>\n      <div className={authenticated ? \"\" : \"fix-view-div\"}>\n        {authenticated ? (\n          <>\n            <p>\n              Welcome <span className={`header-user-tab`}>{user}</span>\n            </p>\n            <Button className=\"logout-button\" onClick={logout}>\n              Sign out\n            </Button>\n          </>\n        ) : (\n          <Button className=\"login-button fix-view-button\" onClick={login}>\n            Sign in with AD\n          </Button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import \"./LinkOptions.css\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { Checkbox } from \"antd\";\n\nconst LinkOptions = ({\n  passwordProtect,\n  setPasswordProtect,\n  password,\n  setPassword,\n  alias,\n  setAlias,\n  expire,\n  setExpire,\n  loading,\n  aliasAllowed,\n  setAliasAllowed,\n  passwordError,\n  aliasError,\n  passwordTouched,\n  setPasswordTouched,\n  setError,\n}) => {\n  const [aliasDebounce, setAliasDebounce] = React.useState(alias);\n  const [aliasAllowedText, setAliasAllowedText] = React.useState(\"Available\");\n  React.useEffect(() => {\n    if (aliasDebounce.length > 0) {\n      if (\n        aliasDebounce.startsWith(\"api\") ||\n        aliasDebounce.startsWith(\"glamurlshortenerapplication\")\n      ) {\n        setAliasAllowed(false);\n        setAliasAllowedText(\"Not available\");\n        return;\n      }\n      setAliasAllowed(false);\n      setAliasAllowedText(\"Checking\");\n    } else {\n      setAliasAllowed(true);\n    }\n    let timerID = setTimeout(() => {\n      if (aliasDebounce.length > 0) {\n        axios\n          .get(`/api/url/short/${aliasDebounce}/exists`)\n          .then(({ data: { exists } }) => {\n            if (exists) {\n              setAliasAllowed(false);\n              setAliasAllowedText(\"Not available\");\n            } else {\n              setAliasAllowed(true);\n              setAlias(aliasDebounce);\n              setAliasAllowedText(\"Available\");\n            }\n          })\n          .catch((err) => {\n            if (err.response) {\n              if (err.response.data?.message) {\n                setError(err.response.data.message);\n              } else {\n                setError(\"Something went wrong! :(\");\n              }\n            }\n            setAlias(\"\");\n            setAliasDebounce(\"\");\n            setAliasAllowed(true);\n            console.log(err);\n          });\n      } else {\n        setAlias(\"\");\n        setAliasAllowed(true);\n      }\n    }, 1000);\n    return () => {\n      clearTimeout(timerID);\n    };\n  }, [aliasDebounce, setAlias, setAliasAllowed, setError]);\n  return (\n    <div className=\"link-options\">\n      <div className=\"password-protect\">\n        <label className=\"container\">\n          <div className={passwordProtect ? \"not-selected\" : \"selected\"}>\n            Public\n          </div>\n          <input\n            disabled={loading}\n            type=\"radio\"\n            checked={!passwordProtect}\n            onChange={() => {\n              setPassword(\"\");\n              setPasswordTouched(false);\n              setPasswordProtect(false);\n            }}\n            name=\"radio\"\n          />\n          <span className=\"checkmark\"></span>\n        </label>\n        <label className=\"container\">\n          <div className={!passwordProtect ? \"not-selected\" : \"selected\"}>\n            Secret\n          </div>\n          <input\n            disabled={loading}\n            type=\"radio\"\n            checked={passwordProtect}\n            onChange={() => setPasswordProtect(true)}\n            name=\"radio\"\n          />\n          <span className=\"checkmark\"></span>\n        </label>\n      </div>\n      {passwordProtect ? (\n        <input\n          className={`app-input ${passwordError ? \"error\" : \"\"}`}\n          style={{ marginTop: \"0px\", marginBottom: \"1rem\" }}\n          placeholder=\"******** (required if secret is selected)\"\n          value={password}\n          onClick={() => setPasswordTouched(true)}\n          onChange={(e) => {\n            if (!passwordTouched) {\n              setPasswordTouched(true);\n            }\n            setPassword(e.target.value);\n          }}\n        />\n      ) : null}\n      <div className=\"alias\">\n        <label>\n          {window.location.href.split(\"glamurlshortenerapplication\")[0]}\n        </label>\n        <input\n          className={`app-input ${aliasError ? \"error\" : \"\"}`}\n          placeholder=\"custom alias (optional)\"\n          value={aliasDebounce}\n          onChange={(e) => setAliasDebounce(e.target.value)}\n        />\n        {aliasDebounce.length > 0 ? (\n          <span className={aliasAllowed ? \"available\" : \"notavailable\"}>\n            {aliasAllowedText}\n          </span>\n        ) : null}\n      </div>\n      {/* <div>\n        <Checkbox\n          checked={expire}\n          onChange={(e) => setExpire(e.target.checked)}\n          style={{ fontSize: \"16px\", marginTop: \"1rem\" }}\n        >\n          Auto expire in 7 days\n        </Checkbox>\n      </div> */}\n    </div>\n  );\n};\n\nexport default LinkOptions;\n","import \"./index.css\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Button } from \"antd\";\nimport LinkOptions from \"./LinkOptions\";\n\nconst Main = ({\n  accessToken,\n  username,\n  authenticated,\n  setError,\n  mobileMode,\n  shortURL,\n  setShortURL,\n}) => {\n  const [shorten, setShorten] = useState(true);\n  const [options, setOptions] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [url, setUrl] = useState(\"\");\n  const [linkOptions, setLinkOptions] = useState(false);\n  const [passwordProtect, setPasswordProtect] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [alias, setAlias] = useState(\"\");\n  const [aliasAllowed, setAliasAllowed] = useState(true);\n  const [expire, setExpire] = useState(false);\n  const [urlTouched, setUrlTouched] = useState(false);\n  const [passwordTouched, setPasswordTouched] = useState(false);\n  const [urlError, setUrlError] = useState(false);\n  const [passwordError, setPasswordError] = useState(false);\n  const [aliasError, setAliasError] = useState(false);\n  const [copyButtonText, setCopyButtonText] = useState(\"Copy\");\n  const validateUrl = (value) =>\n    /(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,63}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?/.test(\n      value\n    );\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!authenticated) {\n      setError(\"Please login to shorten URL\");\n      return;\n    }\n    if (shorten) {\n      highlightErrorFields();\n      return;\n    }\n    setLoading(true);\n    setOptions(true);\n    setShorten(true);\n    try {\n      const dataObj = {\n        full: url,\n        password: password.length > 0 ? password : undefined,\n        short: alias.length > 0 ? alias : undefined,\n        accessToken,\n        username,\n      };\n      if (expire) {\n        dataObj.state = true;\n      }\n      const res = await axios({\n        method: \"POST\",\n        url: \"/api/url/shortUrls\",\n        data: dataObj,\n      });\n      if (res.status === 201 || res.status === 200) {\n        const {\n          data: {\n            shortUrl: { short },\n          },\n        } = res;\n        setCopyButtonText(\"Copy\");\n        setShortURL(\n          window.location.href.split(\"glamurlshortenerapplication\")[0] + short\n        );\n        setUrl(\"\");\n        setLinkOptions(false);\n        setPasswordProtect(false);\n        setPassword(\"\");\n        setAlias(\"\");\n        setExpire(false);\n        setAliasAllowed(true);\n        setUrlTouched(false);\n        setPasswordTouched(false);\n        setUrlError(false);\n        setPasswordError(false);\n        setAliasError(false);\n      } else {\n        const {\n          data: { error },\n        } = res;\n        if (error === \"shortURL already exists\") {\n          setError(\"Alias is already in use\");\n          setAlias(\"\");\n        } else {\n          setError(error);\n        }\n        setShorten(false);\n      }\n      setLoading(false);\n      setOptions(false);\n    } catch (err) {\n      if (err.response) {\n        if (err.response.data?.message) {\n          setError(err.response.data.message);\n        } else {\n          setError(\"Something went wrong! :(\");\n        }\n      }\n      setShorten(false);\n      setLoading(false);\n      setOptions(false);\n      console.log(err);\n    }\n  };\n  const highlightErrorFields = () => {\n    if (url.length === 0) {\n      setUrlError(true);\n    }\n    if (linkOptions) {\n      if (passwordProtect) {\n        if (password.length === 0) {\n          setPasswordError(true);\n        }\n      }\n      if (alias.length > 0) {\n        if (!aliasAllowed) {\n          setAliasError(true);\n        }\n      }\n    }\n  };\n  useEffect(() => {\n    if (url.length > 0 && validateUrl(url)) {\n      setUrlError(false);\n      if (linkOptions) {\n        if (passwordProtect) {\n          if (password.length > 0 && aliasAllowed) {\n            setPasswordError(false);\n            setAliasError(false);\n            setShorten(false);\n          } else {\n            if (password.length === 0) {\n              if (passwordTouched) {\n                setPasswordError(true);\n              }\n            }\n            if (!aliasAllowed) {\n              setAliasError(true);\n            }\n            setShorten(true);\n          }\n        } else if (aliasAllowed) {\n          setPasswordError(false);\n          setAliasError(false);\n          setShorten(false);\n        } else {\n          setAliasError(true);\n          setShorten(true);\n        }\n      } else {\n        setPasswordError(false);\n        setAliasError(false);\n        setShorten(false);\n      }\n    } else {\n      if (urlTouched) {\n        setUrlError(true);\n      }\n      setShorten(true);\n    }\n  }, [\n    url,\n    linkOptions,\n    passwordProtect,\n    password,\n    aliasAllowed,\n    passwordTouched,\n    urlTouched,\n  ]);\n  useEffect(() => {\n    if (!authenticated) {\n      setCopyButtonText(\"Copy\");\n      setShortURL(null);\n      setUrl(\"\");\n      setLinkOptions(false);\n      setPasswordProtect(false);\n      setPassword(\"\");\n      setAlias(\"\");\n      setAliasAllowed(true);\n      setUrlTouched(false);\n      setPasswordTouched(false);\n      setUrlError(false);\n      setPasswordError(false);\n      setAliasError(false);\n    }\n  }, [authenticated, setShortURL]);\n  useEffect(() => {\n    return () => setShortURL(null);\n  }, [setShortURL]);\n  return (\n    <div className=\"main\">\n      <p>GLAM URL Shortener</p>\n      {shortURL ? (\n        <div className=\"short-url\">\n          <span style={{ marginRight: \"0.5rem\" }}>Short URL is </span>\n          <a\n            style={{ wordBreak: \"break-all\" }}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href={shortURL}\n          >\n            {mobileMode ? shortURL.slice(0, 30) + \"...\" : shortURL}\n          </a>\n          <span\n            className=\"copy-button\"\n            onClick={() => {\n              var fullLink = document.createElement(\"input\");\n              document.body.appendChild(fullLink);\n              fullLink.value = shortURL;\n              fullLink.select();\n              document.execCommand(\"copy\", false);\n              fullLink.remove();\n              setCopyButtonText(\"Copied\");\n            }}\n          >\n            {copyButtonText}\n          </span>\n        </div>\n      ) : null}\n      <div className=\"loader\" style={{ display: loading ? \"block\" : \"none\" }}>\n        <div className=\"loading\"></div>\n      </div>\n      <form onSubmit={handleSubmit}>\n        <input\n          className={`url-input ${urlError ? \"error\" : \"\"}`}\n          placeholder=\"http(s)://\"\n          value={url}\n          onClick={() => setUrlTouched(true)}\n          onChange={(e) => {\n            if (!urlTouched) {\n              setUrlTouched(true);\n            }\n            setUrl(e.target.value);\n          }}\n        />\n        {!linkOptions ? null : (\n          <LinkOptions\n            passwordProtect={passwordProtect}\n            setPasswordProtect={setPasswordProtect}\n            password={password}\n            setPassword={setPassword}\n            alias={alias}\n            setAlias={setAlias}\n            expire={expire}\n            setExpire={setExpire}\n            loading={loading}\n            aliasAllowed={aliasAllowed}\n            setAliasAllowed={setAliasAllowed}\n            passwordError={passwordError}\n            aliasError={aliasError}\n            passwordTouched={passwordTouched}\n            setPasswordTouched={setPasswordTouched}\n            setError={setError}\n          />\n        )}\n        <div className=\"form-buttons\">\n          <Button\n            type=\"submit\"\n            className={shorten ? \"disabled\" : \"\"}\n            onClick={handleSubmit}\n          >\n            Shorten\n          </Button>\n          <button\n            type=\"button\"\n            onClick={() => {\n              if (options) {\n                return;\n              }\n              setLinkOptions((prev) => !prev);\n            }}\n            className={options ? \"disabled\" : \"\"}\n          >\n            Customize\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default Main;\n","import \"./ClicksModal.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Modal, DatePicker, Empty } from \"antd\";\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  PieChart,\n  Pie,\n  Tooltip,\n  Legend,\n} from \"recharts\";\nimport { WorldMap } from \"react-svg-worldmap\";\n\n// const mapdata = [\n//   { country: \"cn\", value: 1 }, // china\n//   { country: \"in\", value: 1 }, // india\n//   { country: \"us\", value: 2 }, // united states\n//   { country: \"id\", value: 3 }, // indonesia\n//   { country: \"pk\", value: 7 }, // pakistan\n//   { country: \"br\", value: 0 }, // brazil\n//   { country: \"ng\", value: 0 }, // nigeria\n//   { country: \"bd\", value: 1 }, // bangladesh\n//   { country: \"ru\", value: 1 }, // russia\n//   { country: \"mx\", value: 1 }, // mexico\n// ];\n\nconst ClicksModal = ({\n  isModalVisible,\n  modalInfo,\n  setModalInfo,\n  modalStartDate,\n  setModalStartDate,\n  modalEndDate,\n  setModalEndDate,\n  setError,\n  mobileMode,\n  Admin,\n}) => {\n  const [data, setData] = useState([]);\n  const [barchartData, setBarchartData] = useState([]);\n  const [piechartData, setPieChartData] = useState([]);\n  const [worldmapData, setWorldmapData] = useState([]);\n  const routerHistory = useHistory();\n  useEffect(() => {\n    const escapeButtonListener = () => {\n      routerHistory.push(\n        `/glamurlshortenerapplication/${Admin ? \"admin\" : \"links\"}`\n      );\n    };\n    document.addEventListener(\"keydown\", escapeButtonListener);\n    return () => {\n      document.removeEventListener(\"keydown\", escapeButtonListener);\n    };\n  }, [setModalInfo, setModalEndDate, setModalStartDate, routerHistory, Admin]);\n  useEffect(() => {\n    if (modalInfo) {\n      axios\n        .get(`/api/url/short/clickdates/${modalInfo.short}`)\n        .then(\n          ({\n            data: {\n              shortUrl: { clicksDates },\n            },\n          }) => setData(clicksDates)\n        )\n        .catch((err) => {\n          setError(\"Something went wrong :(\");\n          console.log(err);\n        });\n    }\n  }, [modalInfo, setError]);\n  useEffect(() => {\n    if (data.length > 0) {\n      const tempClicks = {};\n      const tempReferrers = {};\n      const tempLocations = {};\n      data.forEach(({ date, referrer, location }) => {\n        date = new Date(date);\n        const dateinformat =\n          (\"00\" + date.getDate()).slice(-2) +\n          \"/\" +\n          (\"00\" + (date.getMonth() + 1)).slice(-2) +\n          \"/\" +\n          date.getFullYear();\n        const action = (date, referrer) => {\n          if (tempClicks[date]) {\n            tempClicks[date] = tempClicks[date] + 1;\n          } else {\n            tempClicks[date] = 1;\n          }\n          if (tempReferrers[referrer]) {\n            tempReferrers[referrer] = tempReferrers[referrer] + 1;\n          } else {\n            tempReferrers[referrer] = 1;\n          }\n          if (tempLocations[location]) {\n            tempLocations[location] = tempLocations[location] + 1;\n          } else {\n            tempLocations[location] = 1;\n          }\n        };\n        if (modalStartDate && modalEndDate) {\n          const modalStartDateFormat = modalStartDate.format(\"DD/MM/YYYY\");\n          const modalEndDateFormat = modalEndDate.format(\"DD/MM/YYYY\");\n          if (\n            dateinformat >= modalStartDateFormat &&\n            dateinformat <= modalEndDateFormat\n          ) {\n            action(dateinformat, referrer);\n          }\n        } else if (modalStartDate) {\n          const modalStartDateFormat = modalStartDate.format(\"DD/MM/YYYY\");\n          if (dateinformat >= modalStartDateFormat) {\n            action(dateinformat, referrer);\n          }\n        } else if (modalEndDate) {\n          const modalEndDateFormat = modalEndDate.format(\"DD/MM/YYYY\");\n          if (dateinformat <= modalEndDateFormat) {\n            action(dateinformat, referrer);\n          }\n        } else {\n          action(dateinformat, referrer);\n        }\n      });\n      let finalClicks = [];\n      let finalReferrers = [];\n      let finalLocations = [];\n      Object.keys(tempClicks).forEach((key) => {\n        finalClicks.push({ date: key, clicks: tempClicks[key] });\n      });\n      finalClicks = finalClicks.sort();\n      Object.keys(tempReferrers).forEach((key) =>\n        finalReferrers.push({\n          name: key,\n          value: tempReferrers[key],\n        })\n      );\n      Object.keys(tempLocations).forEach((key) => {\n        finalLocations.push({\n          country: key,\n          value: tempLocations[key],\n        });\n      });\n      const batched = (final1, final2, final3) => {\n        setBarchartData(final1);\n        setPieChartData(final2);\n        setWorldmapData(final3);\n      };\n      batched(finalClicks, finalReferrers, finalLocations);\n    }\n  }, [data, modalStartDate, modalEndDate]);\n  return (\n    <Modal\n      title={`Clicks Stats${\n        !mobileMode ? \" (Press any key to close modal)\" : \"\"\n      }`}\n      visible={isModalVisible}\n      footer={null}\n      closeIcon={\n        <Link to={`/glamurlshortenerapplication/${Admin ? \"admin\" : \"links\"}`}>\n          &#10006;\n        </Link>\n      }\n    >\n      <div className=\"modal-top-half\">\n        <div className=\"links\">\n          <p>\n            Short Link :{\" \"}\n            {\n              <a\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                href={\n                  window.location.href.split(\"glamurlshortenerapplication\")[0] +\n                  modalInfo?.short\n                }\n              >\n                {modalInfo?.short}\n              </a>\n            }\n          </p>\n          <p>\n            Long Link :{\" \"}\n            {\n              <a target=\"_blank\" rel=\"noreferrer\" href={modalInfo?.full}>\n                {modalInfo?.full.slice(0, mobileMode ? 40 : 50) + \"...\"}\n              </a>\n            }\n          </p>\n        </div>\n        <div className=\"dates\">\n          <DatePicker\n            placeholder=\"Start date\"\n            onChange={setModalStartDate}\n            disabledDate={(d) => {\n              if (modalEndDate) {\n                return d > modalEndDate || d > Date.now();\n              }\n              return d > Date.now();\n            }}\n            value={modalStartDate}\n            style={{ marginBottom: \"1rem\" }}\n          />\n          <DatePicker\n            placeholder=\"End date\"\n            onChange={setModalEndDate}\n            disabledDate={(d) => {\n              if (modalStartDate) {\n                return d > Date.now() || d < modalStartDate;\n              }\n              return d > Date.now();\n            }}\n            value={modalEndDate}\n          />\n        </div>\n      </div>\n      {data.length > 0 ? (\n        <>\n          <div className=\"modal-bottom-half\">\n            <div>\n              <h3 className=\"graph-label\">Traffic over time</h3>\n              <BarChart\n                width={mobileMode ? 350 : 500}\n                height={280}\n                data={barchartData}\n              >\n                <XAxis dataKey=\"date\" />\n                <YAxis dataKey=\"clicks\" />\n                <Tooltip />\n                <Bar dataKey=\"clicks\" fill=\"#3E3F3A\" />\n              </BarChart>\n            </div>\n            <div>\n              <h3 className=\"graph-label\">Traffic sources</h3>\n              <PieChart width={400} height={250}>\n                <Pie\n                  data={piechartData}\n                  dataKey=\"value\"\n                  nameKey=\"name\"\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  outerRadius={80}\n                  fill=\"#3E3F3A\"\n                />\n                <Legend />\n                <Tooltip />\n              </PieChart>\n            </div>\n          </div>\n          <div className=\"modal-world-map\">\n            {worldmapData.length > 0 ? (\n              <WorldMap\n                color=\"#3E3F3A\"\n                title=\"Traffic sources categorized by countries\"\n                size=\"xl\"\n                data={worldmapData}\n                frame={true}\n              />\n            ) : (\n              <Empty style={{ marginTop: \"2rem\" }} />\n            )}\n          </div>\n        </>\n      ) : (\n        <Empty style={{ marginTop: \"2rem\" }} />\n      )}\n    </Modal>\n  );\n};\n\nexport default ClicksModal;\n","import React from \"react\";\nimport { Modal, message } from \"antd\";\nimport axios from \"axios\";\n\nconst displaySuccess = (text) => {\n  message.success(text);\n};\n\nconst validateUrl = (value) =>\n  /(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,63}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?/.test(\n    value\n  );\n\nconst UrlEditModal = ({\n  isModalVisible,\n  setIsModalVisible,\n  modalInfo,\n  setError,\n  urls,\n  setUrls,\n  accessToken,\n  username,\n}) => {\n  const [confirmLoading, setConfirmLoading] = React.useState(false);\n  const [inputValue, setInputValue] = React.useState(\n    modalInfo ? modalInfo.full : \"\"\n  );\n  const handleSubmit = () => {\n    if (inputValue.length > 0 && validateUrl(inputValue)) {\n      setConfirmLoading(true);\n      axios\n        .patch(\"/api/url/shortUrls/long\", {\n          full: inputValue,\n          accessToken,\n          username,\n          id: modalInfo?.key,\n        })\n        .then((res) => {\n          if (res.status === 200) {\n            const temp = [...urls];\n            temp[modalInfo?.idx].full = inputValue;\n            displaySuccess(\"Saved\");\n            setUrls(temp);\n            setConfirmLoading(false);\n            setIsModalVisible(false);\n          } else {\n            setError(\"Something went wrong! :(\");\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n          if (err.response) {\n            if (err.response.data?.message) {\n              setError(err.response.data.message);\n            } else {\n              setError(\"Something went wrong! :(\");\n            }\n          }\n        });\n    } else {\n      setError(\"Invalid URL entered\");\n      setConfirmLoading(false);\n      setIsModalVisible(false);\n    }\n  };\n  React.useEffect(() => {\n    if (modalInfo) {\n      setInputValue(modalInfo.full);\n    }\n  }, [modalInfo]);\n  return (\n    <Modal\n      title=\"Edit Long URL\"\n      okText=\"Save\"\n      visible={isModalVisible}\n      closeIcon={<h2 onClick={() => setIsModalVisible(false)}>&#10006;</h2>}\n      confirmLoading={confirmLoading}\n      onOk={handleSubmit}\n      onCancel={() => setIsModalVisible(false)}\n    >\n      <div\n        style={{\n          width: \"90%\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n        }}\n      >\n        <p style={{ fontWeight: \"900\", textAlign: \"center\" }}>\n          Short URL :\n          <span style={{ marginLeft: \"1rem\", fontWeight: \"400\" }}>\n            {modalInfo?.short}\n          </span>\n        </p>\n        <p style={{ fontWeight: \"900\", textAlign: \"center\" }}>\n          Long URL :\n          <input\n            value={inputValue}\n            onChange={(e) => setInputValue(e.target.value)}\n            style={{\n              border: \"none\",\n              outline: \"none\",\n              marginLeft: \"1rem\",\n              width: \"60vw\",\n              fontWeight: \"400\",\n              marginTop: \"1rem\",\n            }}\n          />\n        </p>\n      </div>\n    </Modal>\n  );\n};\n\nexport default UrlEditModal;\n","import \"./index.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useRouteMatch, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport {\n  Table,\n  Button,\n  Popconfirm,\n  Input,\n  Select,\n  Radio,\n  Tooltip,\n  message,\n  Spin,\n} from \"antd\";\nimport ClicksModal from \"./ClicksModal\";\nimport UrlEditModal from \"./UrlEditModal\";\n\nconst { Option } = Select;\n\nconst displaySuccess = (text) => {\n  message.success(text);\n};\n\nconst List = ({ username, accessToken, setError, mobileMode, Admin }) => {\n  const [urls, setUrls] = useState([]);\n  const [refreshUrls, setRefreshUrls] = useState(false);\n  const [tableLoading, setTableLoading] = useState(true);\n  const [passwordVisible, setPasswordVisible] = useState(false);\n  const [count, setCount] = useState(0);\n  const [selectedRows, setSelectedRows] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loading1, setLoading1] = useState(false);\n  const [loading2, setLoading2] = useState(false);\n  const [loading3, setLoading3] = useState(false);\n  const [disabledDelete, setDisabledDelete] = useState(false);\n  const [disabledDisable, setDisabledDisable] = useState(false);\n  const [disabledEnable, setDisabledEnable] = useState(false);\n  const [search, setSearch] = useState(\"\");\n  const [searchDebounce, setSearchDebounce] = useState(\"\");\n  const [pageNumber, SetPageNumber] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const [sort, setSort] = useState(\"latest\");\n  const [filter, setFilter] = useState(3);\n  const [modalInfo, setModalInfo] = useState(null);\n  const [modalStartDate, setModalStartDate] = useState(null);\n  const [modalEndDate, setModalEndDate] = useState(null);\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [fullUrlModalVisible, setFullUrlModalVisible] = useState(false);\n  const [fullUrlModalInfo, setFullUrlModalInfo] = useState(null);\n  const { url } = useRouteMatch();\n  const { short, full } = useParams();\n\n  const columns = [\n    {\n      title: \"Created at\",\n      dataIndex: \"createdAt\",\n      render: (d) => {\n        const date = new Date(d);\n        return (\n          <p>\n            {(\"00\" + (date.getMonth() + 1)).slice(-2) +\n              \"/\" +\n              (\"00\" + date.getDate()).slice(-2) +\n              \"/\" +\n              date.getFullYear() +\n              \" \" +\n              (\"00\" + date.getHours()).slice(-2) +\n              \":\" +\n              (\"00\" + date.getMinutes()).slice(-2) +\n              \":\" +\n              (\"00\" + date.getSeconds()).slice(-2)}\n          </p>\n        );\n      },\n    },\n    {\n      title: \"Short URL\",\n      dataIndex: \"short\",\n      render: (short, { idx }) => (\n        <p>\n          <a\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            onClick={() => {\n              const temp = [...urls];\n              temp[idx] = {\n                ...temp[idx],\n                clicks: temp[idx].clicks + 1,\n              };\n              setUrls(temp);\n            }}\n            href={\n              window.location.href.split(\"glamurlshortenerapplication\")[0] +\n              short\n            }\n          >\n            {short}\n          </a>\n          <span\n            className=\"copy-button-list\"\n            onClick={() => {\n              var fullLink = document.createElement(\"input\");\n              document.body.appendChild(fullLink);\n              fullLink.value =\n                window.location.href.split(\"glamurlshortenerapplication\")[0] +\n                short;\n              fullLink.select();\n              document.execCommand(\"copy\", false);\n              fullLink.remove();\n              displaySuccess(\"Copied\");\n            }}\n          >\n            Copy\n          </span>\n        </p>\n      ),\n    },\n    {\n      title: \"Long URL\",\n      dataIndex: \"full\",\n      render: (full, { idx, key, short }) => (\n        <p>\n          <a target=\"_blank\" rel=\"noreferrer\" href={full}>\n            {full.slice(0, 50) + \"...\"}\n          </a>\n          <span\n            style={{\n              marginLeft: \"0.5rem\",\n              fontSize: \"18px\",\n              cursor: \"pointer\",\n            }}\n            onClick={() => {\n              setFullUrlModalInfo({\n                key,\n                idx,\n                full,\n                short,\n              });\n              setFullUrlModalVisible(true);\n            }}\n          >\n            &#9998;\n          </span>\n        </p>\n      ),\n    },\n    {\n      title: \"Clicks\",\n      dataIndex: \"clicks\",\n      render: (clicks, { short, full }) => (\n        <Link to={`${url}/${short}/${full.replace(/\\//g, \"-\")}`}>\n          {clicks} &#x1F4C8;\n        </Link>\n      ),\n    },\n    {\n      title: \"Protected\",\n      dataIndex: \"password\",\n      render: (password) =>\n        password ? (\n          <p\n            style={{ cursor: \"pointer\" }}\n            onClick={() => setPasswordVisible((prev) => !prev)}\n          >\n            {passwordVisible ? password : <span>&#x1F512;</span>}\n          </p>\n        ) : (\n          <h3>--</h3>\n        ),\n    },\n    {\n      title: \"Status\",\n      dataIndex: \"status\",\n      render: (status) => (status ? <p>Enabled</p> : <p>Disabled</p>),\n    },\n  ];\n\n  if (Admin) {\n    columns.splice(1, 0, {\n      title: \"Created By\",\n      dataIndex: \"user\",\n    });\n  }\n\n  useEffect(() => {\n    SetPageNumber(1);\n    setSelectedRows([]);\n  }, [Admin]);\n\n  useEffect(() => {\n    if (short && full) {\n      setModalInfo({ short, full: full.replace(/-/g, \"/\") });\n      setModalStartDate(null);\n      setModalEndDate(null);\n    } else {\n      setModalInfo(null);\n      setModalStartDate(null);\n      setModalEndDate(null);\n    }\n  }, [short, full]);\n\n  useEffect(() => {\n    const reqLink = Admin ? \"/api/url/admin\" : \"/api/url\";\n    setTableLoading(true);\n    axios\n      .post(reqLink, {\n        accessToken,\n        username,\n        pageNumber,\n        search,\n        sort,\n        filter,\n        pageSize,\n      })\n      .then((res) => {\n        let finalList = [];\n        res.data.shortUrls.forEach(\n          (\n            { short, full, clicks, _id, password, createdAt, status, user },\n            idx\n          ) => {\n            finalList.push({\n              short,\n              full,\n              clicks,\n              key: _id,\n              password,\n              createdAt,\n              status,\n              idx,\n              user,\n            });\n          }\n        );\n        setUrls(finalList);\n        setTableLoading(false);\n        const reqLink2 = Admin\n          ? `/api/url/admin/shortUrls/count/${username}`\n          : `/api/url/shortUrls/count/${username}`;\n        axios\n          .get(reqLink2)\n          .then(({ data: { count } }) => setCount(count))\n          .catch((err) => {\n            console.log(err);\n            if (err.response) {\n              if (err.response.data?.message) {\n                setError(err.response.data.message);\n              } else {\n                setError(\"Something went wrong! :(\");\n              }\n            }\n          });\n      })\n      .catch((err) => {\n        console.log(err);\n        if (err.response) {\n          if (err.response.data?.message) {\n            setError(err.response.data.message);\n          } else {\n            setError(\"Something went wrong! :(\");\n          }\n        }\n      });\n  }, [\n    username,\n    accessToken,\n    setError,\n    pageNumber,\n    search,\n    filter,\n    sort,\n    refreshUrls,\n    pageSize,\n    Admin,\n  ]);\n\n  useEffect(() => {\n    const batched = () => {\n      setSearch(searchDebounce);\n      SetPageNumber(1);\n    };\n    const timerID = setTimeout(batched, 1000);\n    return () => clearTimeout(timerID);\n  }, [searchDebounce]);\n\n  useEffect(() => {\n    if (modalInfo) {\n      setIsModalVisible(true);\n    } else {\n      setIsModalVisible(false);\n    }\n  }, [modalInfo]);\n\n  const deleteUrlsFromList = () => {\n    setLoading(true);\n    setDisabledDisable(true);\n    setDisabledEnable(true);\n    const ids = [];\n    selectedRows.forEach((key) => {\n      ids.push(key);\n    });\n    axios\n      .delete(\"/api/url/shortUrls\", { data: { accessToken, username, ids } })\n      .then(() => {\n        displaySuccess(\"Deleted\");\n        setLoading(false);\n        setDisabledDisable(false);\n        setDisabledEnable(false);\n        SetPageNumber(1);\n        setSelectedRows([]);\n        setRefreshUrls((prev) => !prev);\n      })\n      .catch((err) => {\n        setSelectedRows([]);\n        setLoading(false);\n        setDisabledDisable(false);\n        setDisabledEnable(false);\n        setRefreshUrls((prev) => !prev);\n        console.log(err);\n        if (err.response) {\n          if (err.response.data?.message) {\n            setError(err.response.data.message);\n          } else {\n            setError(\"Something went wrong! :(\");\n          }\n        }\n      });\n  };\n\n  const changeStatusUrlsFromList = (status) => {\n    setDisabledDelete(true);\n    if (status) {\n      setDisabledDisable(true);\n      setLoading3(true);\n    } else {\n      setDisabledEnable(true);\n      setLoading2(true);\n    }\n    const ids = [];\n    selectedRows.forEach((key) => {\n      const url = urls.find((url) => url.key === key);\n      if (!(url.status === status)) {\n        ids.push(key);\n      }\n    });\n    axios\n      .patch(\"/api/url/shortUrls\", { accessToken, username, ids, status })\n      .then(() => {\n        displaySuccess(status ? \"Enabled\" : \"Disabled\");\n        setLoading2(false);\n        setDisabledDelete(false);\n        setSelectedRows([]);\n        if (status) {\n          setDisabledDisable(false);\n          setLoading3(false);\n        } else {\n          setDisabledEnable(false);\n          setLoading2(false);\n        }\n        let temp = [...urls];\n        temp = temp.map((url) => {\n          if (ids.some((key) => url.key === key)) {\n            return { ...url, status };\n          } else return url;\n        });\n        setUrls(temp);\n      })\n      .catch((err) => {\n        setSelectedRows([]);\n        setLoading2(false);\n        setDisabledDelete(false);\n        if (status) {\n          setDisabledDisable(false);\n          setLoading3(false);\n        } else {\n          setDisabledEnable(false);\n          setLoading2(false);\n        }\n        console.log(err);\n        if (err.response) {\n          if (err.response.data?.message) {\n            setError(err.response.data.message);\n          } else {\n            setError(\"Something went wrong! :(\");\n          }\n        }\n      });\n  };\n\n  const deleteAllUrls = () => {\n    setLoading1(true);\n    const reqLink = Admin\n      ? \"/api/url/admin/shortUrls/all\"\n      : \"/api/url/shortUrls/all\";\n    axios\n      .delete(reqLink, { data: { accessToken, username } })\n      .then(() => {\n        setUrls([]);\n        setCount(0);\n        setLoading(false);\n        SetPageNumber(1);\n        setRefreshUrls((prev) => !prev);\n      })\n      .catch((err) => {\n        setLoading1(false);\n        console.log(err);\n        if (err.response) {\n          if (err.response.data?.message) {\n            setError(err.response.data.message);\n          } else {\n            setError(\"Something went wrong! :(\");\n          }\n        }\n      });\n  };\n\n  const rowSelection = {\n    selectedRowKeys: selectedRows,\n    onChange: (selectedRowKeys) => setSelectedRows(selectedRowKeys),\n    preserveSelectedRowKeys: false,\n  };\n  const hasSelected = selectedRows.length > 0;\n\n  const checkChanges = () => {\n    if (\n      pageNumber === 1 &&\n      pageSize === 10 &&\n      sort === \"latest\" &&\n      filter === 3\n    ) {\n      return true;\n    }\n    return false;\n  };\n\n  const resetDefaults = () => {\n    SetPageNumber(1);\n    setPageSize(10);\n    setSort(\"latest\");\n    setFilter(3);\n  };\n\n  return (\n    <>\n      <ClicksModal\n        isModalVisible={isModalVisible}\n        modalInfo={modalInfo}\n        setModalInfo={setModalInfo}\n        modalStartDate={modalStartDate}\n        setModalStartDate={setModalStartDate}\n        modalEndDate={modalEndDate}\n        setModalEndDate={setModalEndDate}\n        setError={setError}\n        mobileMode={mobileMode}\n        Admin={Admin}\n      />\n      <UrlEditModal\n        isModalVisible={fullUrlModalVisible}\n        setIsModalVisible={setFullUrlModalVisible}\n        modalInfo={fullUrlModalInfo}\n        setError={setError}\n        urls={urls}\n        setUrls={setUrls}\n        accessToken={accessToken}\n        username={username}\n      />\n      <div className=\"list-container\">\n        <p>Table of links generated by {Admin ? \"others\" : \"you\"}</p>\n        <div>\n          <div style={{ marginBottom: \"1rem\" }}>\n            <Popconfirm\n              title=\"Are you sure to delete selected URLs?\"\n              onCancel={deleteUrlsFromList}\n              okText=\"Cancel\"\n              cancelText=\"Delete\"\n            >\n              <Button\n                style={{ marginRight: \"0.5rem\" }}\n                type=\"danger\"\n                disabled={!hasSelected || disabledDelete}\n                loading={loading}\n              >\n                Delete\n              </Button>\n            </Popconfirm>\n            {`  `}\n            <Popconfirm\n              title=\"Are you sure to disable selected URLs?\"\n              onCancel={() => changeStatusUrlsFromList(false)}\n              okText=\"Cancel\"\n              cancelText=\"Disable\"\n            >\n              <Button\n                style={{ marginLeft: \"0.5rem\", marginRight: \"0.5rem\" }}\n                type=\"danger\"\n                disabled={!hasSelected || disabledDisable}\n                loading={loading2}\n              >\n                Disable\n              </Button>\n            </Popconfirm>\n            {`  `}\n            <Popconfirm\n              title=\"Are you sure to enable selected URLs?\"\n              onCancel={() => changeStatusUrlsFromList(true)}\n              okText=\"Cancel\"\n              cancelText=\"Enable\"\n            >\n              <Button\n                style={{ marginLeft: \"0.5rem\" }}\n                type=\"primary\"\n                disabled={!hasSelected || disabledEnable}\n                loading={loading3}\n              >\n                Enable\n              </Button>\n            </Popconfirm>\n            <span style={{ marginLeft: 8, position: \"relative\", top: \"5px\" }}>\n              {hasSelected ? `Selected ${selectedRows.length} items` : \"\"}\n            </span>\n          </div>\n          <div>\n            <Input\n              placeholder=\"Search....\"\n              value={searchDebounce}\n              onChange={(e) => setSearchDebounce(e.target.value)}\n            />\n          </div>\n          <div>\n            <Tooltip title=\"Sort by\">\n              <Select\n                value={sort}\n                onChange={(v) => {\n                  SetPageNumber(1);\n                  setSort(v);\n                }}\n              >\n                <Option value=\"latest\">Latest</Option>\n                <Option value=\"oldest\">Oldest</Option>\n                <Option value=\"mostclicked\">Most clicked</Option>\n                <Option value=\"leastclicked\">Least clicked</Option>\n              </Select>\n            </Tooltip>\n            <Tooltip title=\"Link enabled/disabled filter\">\n              <Radio.Group\n                onChange={(e) => {\n                  SetPageNumber(1);\n                  setFilter(e.target.value);\n                }}\n                value={filter}\n              >\n                <Radio value={1}>Enabled</Radio>\n                <Radio value={2}>Disabled</Radio>\n                <Radio value={3}>Both</Radio>\n              </Radio.Group>\n            </Tooltip>\n          </div>\n          <Button\n            type=\"primary\"\n            disabled={checkChanges()}\n            onClick={resetDefaults}\n          >\n            Reset defaults\n          </Button>\n        </div>\n        {tableLoading ? (\n          <div style={{ marginTop: \"2rem\" }}>\n            <Spin />\n          </div>\n        ) : (\n          <Table\n            rowSelection={rowSelection}\n            columns={columns}\n            dataSource={urls}\n            scroll={{ x: 1000 }}\n            pagination={{\n              current: pageNumber,\n              total: count,\n              onChange: SetPageNumber,\n              position: [\"topRight\"],\n              onShowSizeChange: setPageSize,\n            }}\n          />\n        )}\n        {count > 0 ? (\n          <Popconfirm\n            title=\"Are you sure to delete all URLs generated by you?\"\n            onCancel={deleteAllUrls}\n            okText=\"Cancel\"\n            cancelText=\"Delete\"\n          >\n            <Button\n              style={{ margin: \"1rem 0\" }}\n              type=\"danger\"\n              loading={loading1}\n            >\n              Delete all {count} links generated by{\" \"}\n              {Admin ? \"other users\" : \"you\"}\n            </Button>\n          </Popconfirm>\n        ) : null}\n      </div>\n    </>\n  );\n};\n\nexport default List;\n","const appId = process.env.REACT_APP_appId;\nconst tid = process.env.REACT_APP_tid;\nconst config = {\n  appId,\n  redirectUri: window.location.href.split(\"glamurlshortenerapplication\")[0],\n  scopes: [\"user.read\"],\n  authority: `https://login.microsoftonline.com/${tid}`,\n};\nexport default config;\n","import \"./App.css\";\nimport React, { useState, useEffect } from \"react\";\nimport {\n  Switch,\n  Route,\n  withRouter,\n  Redirect,\n  useRouteMatch,\n  Link,\n  useHistory,\n} from \"react-router-dom\";\nimport axios from \"axios\";\nimport { message, Menu } from \"antd\";\nimport { PublicClientApplication } from \"@azure/msal-browser\";\nimport QRCode from \"react-qr-code\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport List from \"./List\";\nimport config from \"./config\";\n\nconst displayError = (err) => {\n  message.error(err);\n};\n\nconst App = ({ location }) => {\n  let loginTimeoutID = null;\n  const [current, SetCurrent] = useState(\"home\");\n  const [authenticated, setAuthenticated] = useState(true);\n  const [firstAuthCheck, setFirstAuthCheck] = useState(false);\n  const [admin, setAdmin] = useState(false);\n  const [mobileMode, setMobileMode] = useState(false);\n  const [user, setUser] = useState(null);\n  const [accessToken, setAccessToken] = useState(null);\n  const [username, setUsername] = useState(null);\n  const [error, setError] = useState(null);\n  const [shortURL, setShortURL] = useState(null);\n  const { path, url } = useRouteMatch();\n  const routerHistory = useHistory();\n\n  useEffect(() => {\n    const pathArray = location.pathname.split(\"/\");\n    if (pathArray.length === 2) {\n      SetCurrent(\"home\");\n    } else if (pathArray[2] === \"about\") {\n      SetCurrent(\"about\");\n    } else if (pathArray[2] === \"links\") {\n      SetCurrent(\"links\");\n    } else if (pathArray[2] === \"admin\") {\n      SetCurrent(\"admin\");\n    } else {\n      SetCurrent(\"home\");\n    }\n  }, [location]);\n  useEffect(() => {\n    if (!localStorage.getItem(\"redirect\")) {\n      localStorage.setItem(\"redirect\", location.pathname);\n    } else if (location.pathname.length > 28) {\n      localStorage.setItem(\"redirect\", location.pathname);\n    }\n    if (window.innerWidth < 768) {\n      setMobileMode(true);\n    } else {\n      setMobileMode(false);\n    }\n    const windowResizeEventListener = window.addEventListener(\"resize\", () => {\n      if (window.innerWidth < 768) {\n        setMobileMode(true);\n      } else {\n        setMobileMode(false);\n      }\n    });\n    const accessToken = localStorage.getItem(\"accesstoken\");\n    const username = localStorage.getItem(\"username\");\n    const name = localStorage.getItem(\"name\");\n    if (accessToken && username && name && !firstAuthCheck) {\n      axios\n        .post(\"/api/authenticate\", { accessToken, username })\n        .then((res) => {\n          if (res.status === 200) {\n            setAuthenticated(true);\n            if (res.data.admin) {\n              setAdmin(true);\n            }\n            setUser(name);\n            setAccessToken(accessToken);\n            setUsername(username);\n            setFirstAuthCheck(true);\n            const redirect = localStorage.getItem(\"redirect\");\n            if (redirect) {\n              routerHistory.push(redirect);\n              localStorage.removeItem(\"redirect\");\n            }\n          } else {\n            setError(\"Something went wrong! :(\");\n          }\n        })\n        .catch((err) => {\n          if (err.response) {\n            if (err.response.data?.message) {\n              setError(err.response.data.message);\n            } else {\n              if (err.response) {\n                if (err.response.data?.message) {\n                  setError(err.response.data.message);\n                } else {\n                  setError(\"Something went wrong! :(\");\n                }\n              }\n            }\n          }\n          console.log(err);\n        });\n    }\n    return () => {\n      window.removeEventListener(\"resize\", windowResizeEventListener);\n    };\n  }, [authenticated, location, firstAuthCheck, routerHistory]);\n\n  useEffect(() => {\n    if (error) {\n      displayError(error);\n      setError(null);\n    }\n  }, [error]);\n\n  const publicClientApplication = new PublicClientApplication({\n    auth: {\n      clientId: config.appId,\n      redirectUri: config.redirectUri,\n      authority: config.authority,\n    },\n  });\n\n  const login = () => {\n    try {\n      publicClientApplication\n        .loginPopup({\n          scopes: config.scopes,\n          prompt: \"select_account\",\n        })\n        .then((res) => {\n          console.log(res);\n          loginTimeoutID = setTimeout(logout, 3599998);\n          localStorage.setItem(\"name\", res.account.name);\n          localStorage.setItem(\"username\", res.account.username);\n          localStorage.setItem(\"accesstoken\", res.idToken);\n          setAuthenticated(true);\n        });\n    } catch (err) {\n      console.log(err);\n\n      if (err.response) {\n        if (err.response.data?.message) {\n          setError(err.response.data.message);\n        } else {\n          setError(\"Something went wrong! :(\");\n        }\n      }\n    }\n  };\n\n  const logout = () => {\n    try {\n      publicClientApplication.logoutPopup().then(() => {\n        localStorage.removeItem(\"name\");\n        localStorage.removeItem(\"accesstoken\");\n        localStorage.removeItem(\"username\");\n        localStorage.removeItem(\"redirect\");\n        clearTimeout(loginTimeoutID);\n        setUser(null);\n        setAuthenticated(false);\n        setFirstAuthCheck(false);\n        setAdmin(false);\n        setAccessToken(null);\n        setUsername(null);\n        setShortURL(null);\n        SetCurrent(\"home\");\n      });\n    } catch (err) {\n      console.log(err);\n      if (err.response) {\n        if (err.response.data?.message) {\n          setError(err.response.data.message);\n        } else {\n          setError(\"Something went wrong! :(\");\n        }\n      }\n    }\n  };\n\n  return (\n    <div>\n      <div>\n        <Header\n          user={user}\n          authenticated={authenticated}\n          login={login}\n          logout={logout}\n        />\n        <div className=\"menu-container\">\n          <Menu\n            onClick={(e) => SetCurrent(e.key)}\n            selectedKeys={[current]}\n            mode=\"horizontal\"\n            style={{ justifyContent: \"center\", width: \"100%\" }}\n            theme=\"dark\"\n          >\n            <Menu.Item key=\"home\">\n              <Link to={url}>Home</Link>\n            </Menu.Item>\n            <Menu.Item key=\"about\">\n              <Link to={`${url}/about`}>About</Link>\n            </Menu.Item>\n            {authenticated ? (\n              <Menu.Item key=\"links\">\n                <Link to={`${url}/links`}>Links</Link>\n              </Menu.Item>\n            ) : null}\n            {admin ? (\n              <Menu.Item key=\"admin\">\n                <Link to={`${url}/admin`}>Admin</Link>\n              </Menu.Item>\n            ) : null}\n          </Menu>\n        </div>\n        <Switch>\n          <Route exact path={path}>\n            <>\n              <Main\n                authenticated={authenticated}\n                accessToken={accessToken}\n                username={username}\n                setError={setError}\n                mobileMode={mobileMode}\n                shortURL={shortURL}\n                setShortURL={setShortURL}\n              />\n              {shortURL ? (\n                <QRCode className=\"qr-code-app\" value={shortURL} />\n              ) : null}\n            </>\n          </Route>\n          <Route exact path={`${path}/about`}>\n            <div className=\"app-about\">\n              GLAM URL shortener is a minimalistic link shortening platform\n              built specifically for Oxford GLAM by\n              <a\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                href=\"https://www.cloudmantra.net\"\n              >\n                {` cloudmantra`}\n                <sup>TM</sup>\n              </a>\n            </div>\n          </Route>\n          <Route path={`${path}/links/:short?/:full?`}>\n            {authenticated ? (\n              <List\n                accessToken={accessToken}\n                username={username}\n                setError={setError}\n                mobileMode={mobileMode}\n              />\n            ) : (\n              <Redirect to={path} />\n            )}\n          </Route>\n          <Route path={`${path}/admin/:short?/:full?`}>\n            {authenticated ? (\n              admin ? (\n                <List\n                  accessToken={accessToken}\n                  username={username}\n                  setError={setError}\n                  mobileMode={mobileMode}\n                  Admin\n                />\n              ) : (\n                <Redirect to={`${path}/links`} />\n              )\n            ) : (\n              <Redirect to={path} />\n            )}\n          </Route>\n        </Switch>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(App);\n","import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Button } from \"antd\";\n\nconst Redirect = () => {\n  const [text, setText] = useState(\"Redirecting...\");\n  const [enablePasswordInput, setInput] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [country_code] = useState({ code: \"\" });\n  const { shortUrl } = useParams();\n  useEffect(() => {\n    axios\n      .get(\n        `https://freegeoip.app/json/${document.getElementById(\"gfg\").innerText}`\n      )\n      .then((res) => {\n        country_code.code = res.data.country_code;\n        axios\n          .get(\n            `/api/url/short/${shortUrl}?referrer=${document.referrer}&location=${res.data.country_code}`\n          )\n          .then(({ data: { shortUrl } }) => {\n            if (\n              typeof shortUrl === \"string\" &&\n              shortUrl === \"password protected\"\n            ) {\n              setInput(true);\n            } else if (\n              typeof shortUrl === \"string\" &&\n              shortUrl === \"disabled\"\n            ) {\n              setText(\"Link Disabled\");\n            } else {\n              window.location.href = shortUrl.full;\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n            if (err.response) {\n              if (err.response.data?.message) {\n                setText(err.response.data.message);\n              } else {\n                setText(\"Something went wrong! :(\");\n              }\n            }\n          });\n      })\n      .catch((err) => {\n        setText(\"Something went wrong! :(\");\n        console.log(err);\n      });\n  }, [shortUrl, country_code]);\n  const handleSubmit = (e) => {\n    const action = () => {\n      axios({\n        method: \"POST\",\n        url: `/api/url/short/${shortUrl}?referrer=${document.referrer}&location=${country_code.code}`,\n        data: { password },\n      })\n        .then(({ data: { shortUrl } }) => {\n          window.location.href = shortUrl.full;\n        })\n        .catch((err) => {\n          console.log(err);\n          if (err.response) {\n            if (err.response.data?.message) {\n              setText(err.response.data.message);\n            } else {\n              setText(\"Something went wrong! :(\");\n            }\n          }\n        });\n    };\n    if (e.key === \"Enter\") {\n      action();\n    } else if (!e.key) {\n      action();\n    }\n  };\n  return (\n    <div\n      style={{\n        width: \"100vw\",\n        height: \"100vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n      }}\n    >\n      {enablePasswordInput ? (\n        <p\n          style={{\n            fontSize: \"5vw\",\n            marginBottom: \"2rem\",\n            color: \"white\",\n            width: \"90vw\",\n            height: \"100px\",\n            backgroundColor: \"rgb(62, 63, 58)\",\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          GLAM URL Shortener\n        </p>\n      ) : null}\n      <h1 style={{ marginBottom: \"2rem\", color: \"rgb(62, 63, 58)\" }}>{text}</h1>\n      {enablePasswordInput ? (\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\n          <input\n            style={{\n              padding: \"1rem 2rem\",\n              textAlign: \"center\",\n              fontSize: \"1rem\",\n            }}\n            placeholder=\"Enter Password\"\n            value={password}\n            onChange={({ target: { value } }) => setPassword(value)}\n            onKeyPress={handleSubmit}\n          />\n          <Button\n            type=\"primary\"\n            style={{\n              backgroundColor: \"#29abe0\",\n              marginLeft: \"1rem\",\n              width: \"80px\",\n              height: \"50px\",\n            }}\n            onClick={handleSubmit}\n          >\n            Go\n          </Button>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default Redirect;\n","import ReactDOM from \"react-dom\";\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\nimport App from \"./components/App\";\nimport RedirectComponent from \"./components/Redirect\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <Switch>\n      <Route exact path=\"/\">\n        <Redirect to=\"/glamurlshortenerapplication\" />\n      </Route>\n      <Route path=\"/glamurlshortenerapplication\" component={App} />\n      <Route path=\"/:shortUrl\" component={RedirectComponent} />\n    </Switch>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}