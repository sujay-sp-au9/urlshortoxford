{"version":3,"sources":["components/Header.js","components/LinkOptions.js","components/Main.js","components/List.js","components/config.js","components/App.js","components/Redirect.js","index.js"],"names":["Header","logout","user","login","authenticated","className","onClick","LinkOptions","passwordProtect","setPasswordProtect","password","setPassword","alias","setAlias","loading","aliasAllowed","setAliasAllowed","passwordError","aliasError","passwordTouched","setPasswordTouched","React","useState","aliasDebounce","setAliasDebounce","useEffect","timerID","setTimeout","length","axios","get","then","data","exists","catch","err","window","alert","console","log","clearTimeout","disabled","type","checked","onChange","name","style","marginTop","placeholder","value","e","target","location","href","Main","idToken","username","setError","mobileMode","shortURL","setShortURL","shorten","setShorten","options","setOptions","setLoading","url","setUrl","linkOptions","setLinkOptions","urlTouched","setUrlTouched","urlError","setUrlError","setPasswordError","setAliasError","handleSubmit","a","preventDefault","highlightErrorFields","method","full","undefined","short","res","status","shortUrl","error","test","marginRight","rel","slice","display","onSubmit","prev","color","textAlign","List","urls","setUrls","refreshUrls","setRefreshUrls","finalList","shortUrls","forEach","clicks","_id","push","id","map","idx","temp","confirm","delete","splice","deleteUrlFromList","config","appId","process","redirectUri","scopes","authority","App","loginTimeoutID","setAuthenticated","setMobileMode","setUser","setIdToken","setUsername","innerWidth","windowResizeEventListener","addEventListener","removeEventListener","timeoutID","publicClientApplication","PublicClientApplication","auth","clientId","cache","cacheLocation","storeAuthStateInCookie","logoutPopup","loginPopup","prompt","account","Redirect","text","setText","enablePasswordInput","setInput","pathname","action","key","width","height","flexDirection","justifyContent","alignItems","fontSize","marginBottom","backgroundColor","padding","onKeyPress","marginLeft","cursor","ReactDOM","render","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.1b6ef28e.chunk.js","sourcesContent":["import \"./Header.css\";\nimport React from \"react\";\n\nconst Header = ({ logout, user, login, authenticated }) => {\n  return (\n    <div className=\"header\">\n      <div>\n        <p>GLAM URL Shortener</p>\n        <p>ABOUT</p>\n      </div>\n      <div className={authenticated ? \"\" : \"fix-view-div\"}>\n        {authenticated ? (\n          <>\n            <p>Welcome {user}</p>\n            <button className=\"logout-button\" onClick={logout}>\n              Sign out\n            </button>\n          </>\n        ) : (\n          <button className=\"login-button fix-view-button\" onClick={login}>\n            Sign in with Azure\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import \"./LinkOptions.css\";\nimport React from \"react\";\nimport axios from \"axios\";\n\nconst LinkOptions = ({\n  passwordProtect,\n  setPasswordProtect,\n  password,\n  setPassword,\n  alias,\n  setAlias,\n  loading,\n  aliasAllowed,\n  setAliasAllowed,\n  passwordError,\n  aliasError,\n  passwordTouched,\n  setPasswordTouched,\n}) => {\n  const [aliasDebounce, setAliasDebounce] = React.useState(alias);\n  React.useEffect(() => {\n    let timerID = setTimeout(() => {\n      if (aliasDebounce.length > 0) {\n        axios\n          .get(`/api/short/${aliasDebounce}/exists`)\n          .then(({ data: { exists } }) => {\n            if (exists) {\n              setAliasAllowed(false);\n            } else {\n              setAliasAllowed(true);\n              setAlias(aliasDebounce);\n            }\n          })\n          .catch((err) => {\n            window.alert(\"Something went wrong\");\n            console.log(err);\n          });\n      } else {\n        setAlias(\"\");\n        setAliasAllowed(true);\n      }\n    }, 1000);\n    return () => {\n      clearTimeout(timerID);\n    };\n  }, [aliasDebounce, setAlias, setAliasAllowed]);\n  return (\n    <div className=\"link-options\">\n      <p>Customize link</p>\n      <div className=\"password-protect\">\n        <label className=\"container\">\n          Public\n          <input\n            disabled={loading}\n            type=\"radio\"\n            checked={!passwordProtect}\n            onChange={() => {\n              setPassword(\"\");\n              setPasswordTouched(false);\n              setPasswordProtect(false);\n            }}\n            name=\"radio\"\n          />\n          <span className=\"checkmark\"></span>\n        </label>\n        <label className=\"container\">\n          Secret\n          <input\n            disabled={loading}\n            type=\"radio\"\n            checked={passwordProtect}\n            onChange={() => setPasswordProtect(true)}\n            name=\"radio\"\n          />\n          <span className=\"checkmark\"></span>\n        </label>\n      </div>\n      {passwordProtect ? (\n        <input\n          className={`app-input ${passwordError ? \"error\" : \"\"}`}\n          style={{ marginTop: \"0px\" }}\n          placeholder=\"******** (required if secret is selected)\"\n          value={password}\n          onClick={() => setPasswordTouched(true)}\n          onChange={(e) => {\n            if (!passwordTouched) {\n              setPasswordTouched(true);\n            }\n            setPassword(e.target.value);\n          }}\n        />\n      ) : null}\n      <div className=\"alias\">\n        <label>{window.location.href}</label>\n        <input\n          className={`app-input ${aliasError ? \"error\" : \"\"}`}\n          placeholder=\"custom alias (optional)\"\n          value={aliasDebounce}\n          onChange={(e) => setAliasDebounce(e.target.value)}\n        />\n        {aliasDebounce.length > 0 ? (\n          <span className={aliasAllowed ? \"available\" : \"notavailable\"}>\n            {aliasAllowed ? \"Available\" : \"Not available\"}\n          </span>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default LinkOptions;\n","import \"./Main.css\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport LinkOptions from \"./LinkOptions\";\n\nconst Main = ({\n  idToken,\n  username,\n  authenticated,\n  setError,\n  mobileMode,\n  shortURL,\n  setShortURL,\n}) => {\n  const [shorten, setShorten] = useState(true);\n  const [options, setOptions] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [url, setUrl] = useState(\"\");\n  const [linkOptions, setLinkOptions] = useState(false);\n  const [passwordProtect, setPasswordProtect] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [alias, setAlias] = useState(\"\");\n  const [aliasAllowed, setAliasAllowed] = useState(true);\n  const [urlTouched, setUrlTouched] = useState(false);\n  const [passwordTouched, setPasswordTouched] = useState(false);\n  const [urlError, setUrlError] = useState(false);\n  const [passwordError, setPasswordError] = useState(false);\n  const [aliasError, setAliasError] = useState(false);\n  const validateUrl = (value) =>\n    /(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,63}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?/.test(\n      value\n    );\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!authenticated) {\n      setError(\"Please login to shorten URL\");\n      return;\n    }\n    if (shorten) {\n      highlightErrorFields();\n      return;\n    }\n    setLoading(true);\n    setOptions(true);\n    setShorten(true);\n    try {\n      const res = await axios({\n        method: \"POST\",\n        url: \"/api/shortUrls\",\n        data: {\n          full: url,\n          password: password.length > 0 ? password : undefined,\n          short: alias.length > 0 ? alias : undefined,\n          idToken,\n          username,\n        },\n      });\n      console.log(res);\n      if (res.status === 201 || res.status === 200) {\n        const {\n          data: {\n            shortUrl: { short },\n          },\n        } = res;\n        setShortURL(window.location.href + short);\n        setUrl(\"\");\n        setLinkOptions(false);\n        setPasswordProtect(false);\n        setPassword(\"\");\n        setAlias(\"\");\n        setAliasAllowed(true);\n        setUrlTouched(false);\n        setPasswordTouched(false);\n        setUrlError(false);\n        setPasswordError(false);\n        setAliasError(false);\n      } else {\n        const {\n          data: { error },\n        } = res;\n        if (error === \"shortURL already exists\") {\n          window.alert(\"Alias is already in use\");\n          setAlias(\"\");\n        } else {\n          window.alert(error);\n        }\n        setShorten(false);\n      }\n      setLoading(false);\n      setOptions(false);\n    } catch (err) {\n      window.alert(\"Something went wrong!\");\n      setShorten(false);\n      setLoading(false);\n      setOptions(false);\n      console.log(err);\n    }\n  };\n  const highlightErrorFields = () => {\n    if (url.length === 0) {\n      setUrlError(true);\n    }\n    if (linkOptions) {\n      if (passwordProtect) {\n        if (password.length === 0) {\n          setPasswordError(true);\n        }\n      }\n      if (alias.length > 0) {\n        if (!aliasAllowed) {\n          setAliasError(true);\n        }\n      }\n    }\n  };\n  React.useEffect(() => {\n    if (url.length > 0 && validateUrl(url)) {\n      setUrlError(false);\n      if (linkOptions) {\n        if (passwordProtect) {\n          if (password.length > 0 && aliasAllowed) {\n            setPasswordError(false);\n            setAliasError(false);\n            setShorten(false);\n          } else {\n            if (password.length === 0) {\n              if (passwordTouched) {\n                setPasswordError(true);\n              }\n            }\n            if (!aliasAllowed) {\n              setAliasError(true);\n            }\n            setShorten(true);\n          }\n        } else if (aliasAllowed) {\n          setPasswordError(false);\n          setAliasError(false);\n          setShorten(false);\n        } else {\n          setAliasError(true);\n          setShorten(true);\n        }\n      } else {\n        setPasswordError(false);\n        setAliasError(false);\n        setShorten(false);\n      }\n    } else {\n      if (urlTouched) {\n        setUrlError(true);\n      }\n      setShorten(true);\n    }\n  }, [\n    url,\n    linkOptions,\n    passwordProtect,\n    password,\n    aliasAllowed,\n    passwordTouched,\n    urlTouched,\n  ]);\n  return (\n    <div className=\"main\">\n      <p>GLAM URL Shortener</p>\n      {shortURL ? (\n        <div className=\"short-url\">\n          <span style={{ marginRight: \"0.5rem\" }}>Short URL is </span>\n          <a target=\"_blank\" rel=\"noreferrer\" href={shortURL}>\n            {mobileMode ? shortURL.slice(0, 30) + \"...\" : shortURL}\n          </a>\n        </div>\n      ) : null}\n      <div className=\"loader\" style={{ display: loading ? \"block\" : \"none\" }}>\n        <div className=\"loading\"></div>\n      </div>\n      <form onSubmit={handleSubmit}>\n        <input\n          className={`url-input ${urlError ? \"error\" : \"\"}`}\n          placeholder=\"http(s)://\"\n          value={url}\n          onClick={() => setUrlTouched(true)}\n          onChange={(e) => {\n            if (!urlTouched) {\n              setUrlTouched(true);\n            }\n            setUrl(e.target.value);\n          }}\n        />\n        {!linkOptions ? null : (\n          <LinkOptions\n            passwordProtect={passwordProtect}\n            setPasswordProtect={setPasswordProtect}\n            password={password}\n            setPassword={setPassword}\n            alias={alias}\n            setAlias={setAlias}\n            loading={loading}\n            aliasAllowed={aliasAllowed}\n            setAliasAllowed={setAliasAllowed}\n            passwordError={passwordError}\n            aliasError={aliasError}\n            passwordTouched={passwordTouched}\n            setPasswordTouched={setPasswordTouched}\n          />\n        )}\n        <div className=\"form-buttons\">\n          <button type=\"submit\" className={shorten ? \"disabled\" : \"\"}>\n            Shorten\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => {\n              if (options) {\n                return;\n              }\n              setLinkOptions((prev) => !prev);\n            }}\n            className={options ? \"disabled\" : \"\"}\n          >\n            Link Options\n          </button>\n        </div>\n      </form>\n      <p style={{ color: \"#98978b\", marginTop: \"1rem\", textAlign: \"center\" }}>\n        Did you know you can change the URL ending by clicking on \"Link\n        Options\"?\n      </p>\n    </div>\n  );\n};\n\nexport default Main;\n","import \"./List.css\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst List = ({ username, idToken, mobileMode, shortURL }) => {\n  const [urls, setUrls] = useState([]);\n  const [refreshUrls, setRefreshUrls] = useState(false);\n  useEffect(() => {\n    axios.get(`/api/${username}`).then((res) => {\n      let finalList = [];\n      res.data.shortUrls.forEach(({ short, full, clicks, _id, password }) => {\n        finalList.push({\n          short,\n          full,\n          clicks,\n          id: _id,\n          password: password ? true : false,\n        });\n      });\n      setUrls(finalList);\n    });\n  }, [username, refreshUrls]);\n  useEffect(() => {\n    setRefreshUrls((prev) => !prev);\n  }, [shortURL]);\n  const deleteUrlFromList = (id, idx) => {\n    const decision = window.confirm(\"Confirm delete ?\");\n    if (decision) {\n      axios.delete(`/api/short/${id}`, {\n        data: {\n          idToken,\n          username,\n        },\n      });\n      setUrls((prev) => {\n        let temp = [...prev];\n        temp.splice(idx, 1);\n        return temp;\n      });\n    }\n  };\n  return (\n    <div className=\"list-container\">\n      <p>Last 5 links generated by you</p>\n      <div className=\"list\">\n        {urls.length === 0 ? (\n          <div style={{ marginTop: \"1rem\" }}>'No data'</div>\n        ) : (\n          <table>\n            <tr>\n              <th>Short URL</th>\n              <th>FULL URL</th>\n              <th>Clicks</th>\n            </tr>\n            {urls.map((url, idx) => (\n              <tr>\n                <td>\n                  <a\n                    className=\"column-1\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    href={window.location.href + url.short}\n                    onClick={() => {\n                      const temp = [...urls];\n                      temp[idx] = {\n                        ...temp[idx],\n                        clicks: temp[idx].clicks + 1,\n                      };\n                      setUrls(temp);\n                    }}\n                  >\n                    {(window.location.href + url.short).slice(\n                      0,\n                      mobileMode ? 35 : 50\n                    ) + \"...\"}\n                  </a>\n                </td>\n                <td>\n                  <a\n                    className=\"column-2\"\n                    target=\"_blank\"\n                    rel=\"noreferrer nofollow\"\n                    href={url.full}\n                  >\n                    {url.full.slice(0, mobileMode ? 35 : 50) + \"...\"}\n                  </a>\n                </td>\n                <td className=\"td-clicks\">{url.clicks}</td>\n                <td onClick={() => deleteUrlFromList(url.id, idx)}>\n                  <p className=\"td-delete\">Delete</p>\n                </td>\n                {url.password ? <td>&#x1F512;</td> : null}\n              </tr>\n            ))}\n          </table>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default List;\n","const appId = process.env.REACT_APP_appId;\nconst config = {\n  appId,\n  redirectUri: \"https://shorturl.cloudmantra.in\",\n  scopes: [\"user.read\"],\n  authority: \"https://login.microsoftonline.com/common\",\n};\nexport default config;\n","import \"./App.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { PublicClientApplication } from \"@azure/msal-browser\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport List from \"./List\";\nimport config from \"./config\";\n\nconst App = () => {\n  let loginTimeoutID = null;\n  const [authenticated, setAuthenticated] = useState(false);\n  const [mobileMode, setMobileMode] = useState(false);\n  const [user, setUser] = useState(null);\n  const [idToken, setIdToken] = useState(null);\n  const [username, setUsername] = useState(null);\n  const [error, setError] = useState(null);\n  const [shortURL, setShortURL] = useState(null);\n\n  useEffect(() => {\n    if (window.innerWidth < 768) {\n      setMobileMode(true);\n    } else {\n      setMobileMode(false);\n    }\n    const windowResizeEventListener = window.addEventListener(\"resize\", () => {\n      if (window.innerWidth < 768) {\n        setMobileMode(true);\n      } else {\n        setMobileMode(false);\n      }\n    });\n    return () => {\n      window.removeEventListener(\"resize\", windowResizeEventListener);\n    };\n  }, []);\n\n  useEffect(() => {\n    let timeoutID;\n    if (error) {\n      timeoutID = setTimeout(() => {\n        setError(null);\n      }, 2000);\n    }\n    return () => {\n      clearTimeout(timeoutID);\n    };\n  }, [error]);\n\n  const publicClientApplication = new PublicClientApplication({\n    auth: {\n      clientId: config.appId,\n      redirectUri: config.redirectUri,\n      authority: config.authority,\n    },\n    cache: {\n      cacheLocation: \"localStorage\",\n      storeAuthStateInCookie: true,\n    },\n  });\n\n  const login = () => {\n    try {\n      publicClientApplication\n        .loginPopup({\n          scopes: config.scopes,\n          prompt: \"select_account\",\n        })\n        .then((res) => {\n          loginTimeoutID = setTimeout(logout, 3600000);\n          setUser(res.account.name);\n          setIdToken(res.idToken);\n          setUsername(res.account.username);\n          setAuthenticated(true);\n        });\n    } catch (err) {\n      console.log(err);\n      setError(\"Something went wrong! :(\");\n    }\n  };\n\n  const logout = () => {\n    try {\n      publicClientApplication.logoutPopup().then((res) => {\n        clearTimeout(loginTimeoutID);\n        setUser(null);\n        setAuthenticated(false);\n      });\n    } catch (err) {\n      console.log(err);\n      setError(\"Something went wrong! :(\");\n    }\n  };\n\n  return (\n    <div>\n      {error ? (\n        <div className=\"alert\">\n          <strong>{error}</strong>\n        </div>\n      ) : null}\n      <div className={error ? \"blur\" : \"\"}>\n        <Header\n          user={user}\n          authenticated={authenticated}\n          login={login}\n          logout={logout}\n        />\n        <Main\n          authenticated={authenticated}\n          idToken={idToken}\n          username={username}\n          setError={setError}\n          mobileMode={mobileMode}\n          shortURL={shortURL}\n          setShortURL={setShortURL}\n        />\n        {authenticated ? (\n          <List\n            idToken={idToken}\n            username={username}\n            mobileMode={mobileMode}\n            shortURL={shortURL}\n          />\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst Redirect = () => {\n  const [text, setText] = useState(\"Redirecting...\");\n  const [enablePasswordInput, setInput] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  useEffect(() => {\n    axios\n      .get(`/api/short/${window.location.pathname.slice(1)}`)\n      .then(({ data: { shortUrl } }) => {\n        if (typeof shortUrl === \"string\") {\n          setInput(true);\n        } else {\n          window.location.href = shortUrl.full;\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setText(\"Not found\");\n      });\n  }, []);\n  const handleSubmit = (e) => {\n    const action = () => {\n      axios({\n        method: \"POST\",\n        url: `/api/short/${window.location.pathname.slice(1)}`,\n        data: { password },\n      })\n        .then(({ data: { shortUrl } }) => {\n          window.location.href = shortUrl.full;\n        })\n        .catch((err) => {\n          console.log(err);\n          setText(\"Not found or Password incorrect\");\n        });\n    };\n    if (e.key === \"Enter\") {\n      action();\n    } else if (!e.key) {\n      action();\n    }\n  };\n  return (\n    <div\n      style={{\n        width: \"100vw\",\n        height: \"100vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n      }}\n    >\n      <p\n        style={{\n          fontSize: \"5vw\",\n          marginBottom: \"2rem\",\n          color: \"white\",\n          width: \"90vw\",\n          height: \"100px\",\n          backgroundColor: \"rgb(62, 63, 58)\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      >\n        GLAM URL Shortener\n      </p>\n      <h1 style={{ marginBottom: \"2rem\", color: \"rgb(62, 63, 58)\" }}>{text}</h1>\n      {enablePasswordInput ? (\n        <div style={{ display: \"flex\" }}>\n          <input\n            style={{\n              padding: \"1rem 2rem\",\n              textAlign: \"center\",\n              fontSize: \"1rem\",\n            }}\n            placeholder=\"Enter Password\"\n            value={password}\n            onChange={({ target: { value } }) => setPassword(value)}\n            onKeyPress={handleSubmit}\n          />\n          <span\n            style={{\n              marginLeft: \"1rem\",\n              cursor: \"pointer\",\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n            }}\n            onClick={handleSubmit}\n          >\n            Go\n          </span>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default Redirect;\n","import ReactDOM from \"react-dom\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport App from \"./components/App\";\nimport Redirect from \"./components/Redirect\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <Switch>\n      <Route exact path=\"/\" component={App} />\n      <Route path=\"/:shortUrl\" component={Redirect} />\n    </Switch>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}