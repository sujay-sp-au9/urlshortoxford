{"version":3,"sources":["components/Header.js","components/LinkOptions.js","components/Main.js","components/List.js","components/config.js","components/App.js","components/Redirect.js","index.js"],"names":["Header","logout","user","className","onClick","LinkOptions","passwordProtect","setPasswordProtect","password","setPassword","alias","setAlias","loading","aliasAllowed","setAliasAllowed","React","useState","aliasDebounce","setAliasDebounce","useEffect","timerID","setTimeout","length","axios","get","then","data","exists","catch","err","window","alert","console","log","clearTimeout","disabled","type","checked","onChange","name","style","marginTop","placeholder","value","e","target","location","href","Main","idToken","username","shorten","setShorten","shortURL","setShortURL","options","setOptions","setLoading","url","setUrl","linkOptions","setLinkOptions","handleSubmit","a","preventDefault","method","full","undefined","short","res","status","shortUrl","error","test","marginRight","rel","display","onSubmit","prev","color","textAlign","List","windowResizeEventListener","setEventListener","mobileMode","setMobileMode","urls","setUrls","refreshUrls","setRefreshUrls","addEventListener","innerWidth","removeEventListener","finalList","shortUrls","forEach","clicks","_id","push","id","map","idx","slice","confirm","delete","temp","splice","deleteUrlFromList","config","appId","process","redirectUri","scopes","authority","App","loginTimeoutID","authenticated","setAuthenticated","setUser","setIdToken","setUsername","publicClientApplication","PublicClientApplication","auth","clientId","cache","cacheLocation","storeAuthStateInCookie","logoutPopup","loginPopup","prompt","account","Redirect","text","setText","enablePasswordInput","setInput","pathname","action","key","width","height","flexDirection","justifyContent","alignItems","marginBottom","padding","fontSize","onKeyPress","marginLeft","cursor","ReactDOM","render","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.593f3d3f.chunk.js","sourcesContent":["import \"./Header.css\";\nimport React from \"react\";\n\nconst Header = ({ logout, user }) => {\n  return (\n    <div className=\"header\">\n      <div>\n        <p>GLAM URL Shortener</p>\n        <p>ABOUT</p>\n      </div>\n      <div>\n        <p>Welcome {user}</p>\n        <button onClick={logout}>Logout</button>\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import \"./LinkOptions.css\";\nimport React from \"react\";\nimport axios from \"axios\";\n\nconst LinkOptions = ({\n  passwordProtect,\n  setPasswordProtect,\n  password,\n  setPassword,\n  alias,\n  setAlias,\n  loading,\n  aliasAllowed,\n  setAliasAllowed,\n}) => {\n  const [aliasDebounce, setAliasDebounce] = React.useState(alias);\n  React.useEffect(() => {\n    let timerID = setTimeout(() => {\n      if (aliasDebounce.length > 0) {\n        axios\n          .get(`/api/short/${aliasDebounce}/exists`)\n          .then(({ data: { exists } }) => {\n            if (exists) {\n              setAliasAllowed(false);\n            } else {\n              setAliasAllowed(true);\n              setAlias(aliasDebounce);\n            }\n          })\n          .catch((err) => {\n            window.alert(\"Something went wrong\");\n            console.log(err);\n          });\n      } else {\n        setAlias(\"\");\n        setAliasAllowed(true);\n      }\n    }, 1000);\n    return () => {\n      clearTimeout(timerID);\n    };\n  }, [aliasDebounce, setAlias, setAliasAllowed]);\n  return (\n    <div className=\"link-options\">\n      <div className=\"password-protect\">\n        <label className=\"container\">\n          Public\n          <input\n            disabled={loading}\n            type=\"radio\"\n            checked={!passwordProtect}\n            onChange={() => {\n              setPassword(\"\");\n              setPasswordProtect(false);\n            }}\n            name=\"radio\"\n          />\n          <span className=\"checkmark\"></span>\n        </label>\n        <label className=\"container\">\n          Secret\n          <input\n            disabled={loading}\n            type=\"radio\"\n            checked={passwordProtect}\n            onChange={() => setPasswordProtect(true)}\n            name=\"radio\"\n          />\n          <span className=\"checkmark\"></span>\n        </label>\n      </div>\n      {passwordProtect ? (\n        <input\n          className=\"app-input\"\n          style={{ marginTop: \"0px\" }}\n          placeholder=\"******** (required if secret is selected)\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n      ) : null}\n      <div className=\"alias\">\n        <label>{window.location.href}</label>\n        <input\n          className=\"app-input\"\n          placeholder=\"custom alias (optional)\"\n          value={aliasDebounce}\n          onChange={(e) => setAliasDebounce(e.target.value)}\n        />\n        {aliasDebounce.length > 0 ? (\n          <span className={aliasAllowed ? \"available\" : \"notavailable\"}>\n            {aliasAllowed ? \"Available\" : \"Not available\"}\n          </span>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default LinkOptions;\n","import \"./Main.css\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport LinkOptions from \"./LinkOptions\";\n\nconst Main = ({ idToken, username }) => {\n  const [shorten, setShorten] = useState(true);\n  const [shortURL, setShortURL] = useState(null);\n  const [options, setOptions] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [url, setUrl] = useState(\"\");\n  const [linkOptions, setLinkOptions] = useState(false);\n  const [passwordProtect, setPasswordProtect] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [alias, setAlias] = useState(\"\");\n  const [aliasAllowed, setAliasAllowed] = useState(true);\n  const validateUrl = (value) =>\n    /(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,63}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?/.test(\n      value\n    );\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setOptions(true);\n    setShorten(true);\n    try {\n      const res = await axios({\n        method: \"POST\",\n        url: \"/api/shortUrls\",\n        data: {\n          full: url,\n          password: password.length > 0 ? password : undefined,\n          short: alias.length > 0 ? alias : undefined,\n          idToken,\n          username,\n        },\n      });\n      console.log(res);\n      if (res.status === 201 || res.status === 200) {\n        const {\n          data: {\n            shortUrl: { short },\n          },\n        } = res;\n        setShortURL(window.location.href + short);\n        setUrl(\"\");\n        setLinkOptions(false);\n        setPasswordProtect(false);\n        setPassword(\"\");\n        setAlias(\"\");\n      } else {\n        const {\n          data: { error },\n        } = res;\n        if (error === \"shortURL already exists\") {\n          window.alert(\"Alias is already in use\");\n          setAlias(\"\");\n        } else {\n          window.alert(error);\n        }\n        setShorten(false);\n      }\n      setLoading(false);\n      setOptions(false);\n    } catch (err) {\n      window.alert(\"Something went wrong!\");\n      setShorten(false);\n      setLoading(false);\n      setOptions(false);\n      console.log(err);\n    }\n  };\n  React.useEffect(() => {\n    if (url.length > 0 && validateUrl(url)) {\n      if (linkOptions) {\n        if (passwordProtect) {\n          if (password.length > 0 && aliasAllowed) {\n            setShorten(false);\n          } else {\n            setShorten(true);\n          }\n        } else if (aliasAllowed) {\n          setShorten(false);\n        } else {\n          setShorten(true);\n        }\n      } else {\n        setShorten(false);\n      }\n    } else {\n      setShorten(true);\n    }\n  }, [url, linkOptions, passwordProtect, password, aliasAllowed]);\n  return (\n    <div className=\"main\">\n      <p>GLAM URL Shortener</p>\n      {shortURL ? (\n        <div>\n          <span style={{ marginRight: \"0.5rem\" }}>Short URL is </span>\n          <a\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href={shortURL}\n            className=\"short-url\"\n          >\n            {shortURL}\n          </a>\n        </div>\n      ) : null}\n      <div className=\"loader\" style={{ display: loading ? \"block\" : \"none\" }}>\n        <div className=\"loading\"></div>\n      </div>\n      <form onSubmit={handleSubmit}>\n        <input\n          className=\"url-input\"\n          placeholder=\"http(s)://\"\n          value={url}\n          onChange={(e) => setUrl(e.target.value)}\n        />\n        {!linkOptions ? null : (\n          <LinkOptions\n            passwordProtect={passwordProtect}\n            setPasswordProtect={setPasswordProtect}\n            password={password}\n            setPassword={setPassword}\n            alias={alias}\n            setAlias={setAlias}\n            loading={loading}\n            aliasAllowed={aliasAllowed}\n            setAliasAllowed={setAliasAllowed}\n          />\n        )}\n        <div className=\"form-buttons\">\n          <button type=\"submit\" disabled={shorten}>\n            Shorten\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => setLinkOptions((prev) => !prev)}\n            disabled={options}\n          >\n            Link Options\n          </button>\n        </div>\n      </form>\n      <p style={{ color: \"#98978b\", marginTop: \"1rem\", textAlign: \"center\" }}>\n        The shorten button will be anabled when all required fields are filled.\n      </p>\n      <p style={{ color: \"#98978b\", marginTop: \"1rem\", textAlign: \"center\" }}>\n        Did you know you can change the URL ending by clicking on \"Link\n        Options\"?\n      </p>\n    </div>\n  );\n};\n\nexport default Main;\n","import \"./List.css\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst List = ({ username, idToken }) => {\n  const [windowResizeEventListener, setEventListener] = useState(null);\n  const [mobileMode, setMobileMode] = useState(false);\n  const [urls, setUrls] = useState([]);\n  const [refreshUrls, setRefreshUrls] = useState(false);\n  useEffect(() => {\n    setEventListener(\n      window.addEventListener(\"resize\", () => {\n        if (window.innerWidth < 768) {\n          setMobileMode(true);\n        } else {\n          setMobileMode(false);\n        }\n      })\n    );\n    return () => {\n      window.removeEventListener(\"resize\", windowResizeEventListener);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    axios.get(`/api/${username}`).then((res) => {\n      let finalList = [];\n      res.data.shortUrls.forEach(({ short, full, clicks, _id }) => {\n        finalList.push({\n          short,\n          full,\n          clicks,\n          id: _id,\n        });\n      });\n      setUrls(finalList);\n    });\n  }, [username, refreshUrls]);\n  const deleteUrlFromList = (id, idx) => {\n    const decision = window.confirm(\"Confirm delete ?\");\n    if (decision) {\n      axios.delete(`/api/short/${id}`, {\n        data: {\n          idToken,\n          username,\n        },\n      });\n      setUrls((prev) => {\n        let temp = [...prev];\n        temp.splice(idx, 1);\n        return temp;\n      });\n    }\n  };\n  return (\n    <div className=\"list-container\">\n      <p>List of all links generated by you</p>\n      <p onClick={() => setRefreshUrls((prev) => !prev)}>Refresh list</p>\n      <div className=\"list\">\n        <div className=\"list-item\">\n          <span className=\"column-1\">Short URL</span>\n          <span className=\"column-2\">FULL URL</span>\n          <span className=\"column-3\">Clicks</span>\n        </div>\n        {urls.length === 0 ? <div>'No data'</div> : null}\n        {urls.map((url, idx) => (\n          <div className=\"list-item\" key={url.id}>\n            <a\n              className=\"column-1\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              href={window.location.href + url.short}\n            >\n              {window.location.href + url.short}\n            </a>\n            <a\n              className=\"column-2\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              href={url.full}\n            >\n              {url.full.slice(0, mobileMode ? 35 : 50) + \"...\"}\n            </a>\n            <span className=\"column-3\">{url.clicks}</span>\n            <span\n              onClick={() => deleteUrlFromList(url.id, idx)}\n              className=\"column-4\"\n            >\n              Delete\n            </span>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default List;\n","const appId = process.env.REACT_APP_appId;\nconst config = {\n  appId,\n  redirectUri: \"http://localhost:5000/\",\n  scopes: [\"user.read\"],\n  authority: \"https://login.microsoftonline.com/common\",\n};\nexport default config;\n","import \"./App.css\";\nimport React, { useState } from \"react\";\nimport { PublicClientApplication } from \"@azure/msal-browser\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport List from \"./List\";\nimport config from \"./config\";\n\nconst App = () => {\n  let loginTimeoutID = null;\n  const [authenticated, setAuthenticated] = useState(false);\n  const [user, setUser] = useState(null);\n  const [idToken, setIdToken] = useState(null);\n  const [username, setUsername] = useState(null);\n\n  const publicClientApplication = new PublicClientApplication({\n    auth: {\n      clientId: config.appId,\n      redirectUri: config.redirectUri,\n      authority: config.authority,\n    },\n    cache: {\n      cacheLocation: \"localStorage\",\n      storeAuthStateInCookie: true,\n    },\n  });\n\n  const login = () => {\n    try {\n      publicClientApplication\n        .loginPopup({\n          scopes: config.scopes,\n          prompt: \"select_account\",\n        })\n        .then((res) => {\n          loginTimeoutID = setTimeout(logout, 3600000);\n          setUser(res.account.name);\n          setIdToken(res.idToken);\n          setUsername(res.account.username);\n          setAuthenticated(true);\n        });\n    } catch (err) {\n      console.log(err);\n      window.alert(\"Something went wrong! :(\");\n    }\n  };\n\n  const logout = () => {\n    try {\n      publicClientApplication.logoutPopup().then((res) => {\n        clearTimeout(loginTimeoutID);\n        setUser(null);\n        setAuthenticated(false);\n      });\n    } catch (err) {\n      console.log(err);\n      window.alert(\"Something went wrong! :(\");\n    }\n  };\n\n  if (!authenticated) {\n    return (\n      <div className=\"login-page\">\n        <h1>\n          URL shortner<sup> powered by OXFORD</sup>\n        </h1>\n        <div className=\"login-button\" onClick={login}>\n          <h3>Please log in</h3>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <Header user={user} logout={logout} />\n      <Main idToken={idToken} username={username} />\n      <List idToken={idToken} username={username} />\n    </div>\n  );\n};\n\nexport default App;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst Redirect = () => {\n  const [text, setText] = useState(\"Redirecting...\");\n  const [enablePasswordInput, setInput] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  useEffect(() => {\n    axios\n      .get(`/api/short/${window.location.pathname.slice(1)}`)\n      .then(({ data: { shortUrl } }) => {\n        if (typeof shortUrl === \"string\") {\n          setInput(true);\n        } else {\n          window.location.href = shortUrl.full;\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setText(\"Not found\");\n      });\n  }, []);\n  const handleSubmit = (e) => {\n    const action = () => {\n      axios({\n        method: \"POST\",\n        url: `/api/short/${window.location.pathname.slice(1)}`,\n        data: { password },\n      })\n        .then(({ data: { shortUrl } }) => {\n          window.location.href = shortUrl.full;\n        })\n        .catch((err) => {\n          console.log(err);\n          setText(\"Not found or Password incorrect\");\n        });\n    };\n    if (e.key === \"Enter\") {\n      action();\n    } else if (!e.key) {\n      action();\n    }\n  };\n  return (\n    <div\n      style={{\n        width: \"100vw\",\n        height: \"100vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n      }}\n    >\n      <h1 style={{ marginBottom: \"2rem\" }}>{text}</h1>\n      {enablePasswordInput ? (\n        <div style={{ display: \"flex\" }}>\n          <input\n            style={{\n              padding: \"1rem 2rem\",\n              textAlign: \"center\",\n              fontSize: \"1rem\",\n            }}\n            placeholder=\"Enter Password\"\n            value={password}\n            onChange={({ target: { value } }) => setPassword(value)}\n            onKeyPress={handleSubmit}\n          />\n          <span\n            style={{ marginLeft: \"1rem\", cursor: \"pointer\" }}\n            onClick={handleSubmit}\n          >\n            Go\n          </span>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default Redirect;\n","import ReactDOM from \"react-dom\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport App from \"./components/App\";\nimport Redirect from \"./components/Redirect\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <Switch>\n      <Route exact path=\"/\" component={App} />\n      <Route path=\"/:shortUrl\" component={Redirect} />\n    </Switch>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}