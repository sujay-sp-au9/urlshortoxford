{"version":3,"sources":["components/Header.js","components/LinkOptions.js","components/Main.js","components/List2.js","components/config.js","components/App.js","components/Redirect.js","components/About.js","index.js"],"names":["Header","logout","user","login","authenticated","className","href","target","rel","onClick","LinkOptions","passwordProtect","setPasswordProtect","password","setPassword","alias","setAlias","loading","aliasAllowed","setAliasAllowed","passwordError","aliasError","passwordTouched","setPasswordTouched","setError","React","useState","aliasDebounce","setAliasDebounce","aliasAllowedText","setAliasAllowedText","useEffect","length","timerID","setTimeout","axios","get","then","data","exists","catch","err","console","log","clearTimeout","disabled","type","checked","onChange","name","style","marginTop","placeholder","value","e","window","location","Main","idToken","username","mobileMode","shortURL","setShortURL","shorten","setShorten","options","setOptions","setLoading","url","setUrl","linkOptions","setLinkOptions","urlTouched","setUrlTouched","urlError","setUrlError","setPasswordError","setAliasError","copyButtonText","setCopyButtonText","handleSubmit","a","preventDefault","highlightErrorFields","method","full","undefined","short","res","status","shortUrl","error","test","marginRight","wordBreak","slice","fullLink","document","createElement","body","appendChild","select","execCommand","remove","display","onSubmit","prev","color","textAlign","List","urls","setUrls","refreshUrls","setRefreshUrls","count","setCount","selectedRows","setSelectedRows","loading1","setLoading1","pageNumber","SetPageNumber","columns","title","dataIndex","render","idx","temp","clicks","post","finalList","shortUrls","forEach","_id","push","key","rowSelection","selectedRowKeys","hasSelected","marginBottom","onCancel","ids","delete","okText","cancelText","marginLeft","dataSource","scroll","x","pagination","total","showSizeChanger","page","margin","config","appId","process","redirectUri","scopes","authority","App","loginTimeoutID","setAuthenticated","setMobileMode","setUser","setIdToken","setUsername","innerWidth","windowResizeEventListener","addEventListener","removeEventListener","message","publicClientApplication","PublicClientApplication","auth","clientId","logoutPopup","loginPopup","prompt","account","Redirect","text","setText","enablePasswordInput","setInput","pathname","action","width","height","flexDirection","justifyContent","alignItems","fontSize","backgroundColor","padding","onKeyPress","cursor","About","ReactDOM","exact","path","component","getElementById"],"mappings":"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","file":"static/js/main.82b40595.chunk.js","sourcesContent":["import \"./Header.css\";\nimport React from \"react\";\n\nconst Header = ({ logout, user, login, authenticated }) => {\n  return (\n    <div className=\"header\">\n      <div>\n        <a href=\"/\">GLAM URL Shortener</a>\n        <a target=\"_blank\" rel=\"noreferrer\" href=\"/aboutglamurlshortner\">\n          About\n        </a>\n      </div>\n      <div className={authenticated ? \"\" : \"fix-view-div\"}>\n        {authenticated ? (\n          <>\n            <p>Welcome {user}</p>\n            <button className=\"logout-button\" onClick={logout}>\n              Sign out\n            </button>\n          </>\n        ) : (\n          <button className=\"login-button fix-view-button\" onClick={login}>\n            Sign in with AD\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","import \"./LinkOptions.css\";\nimport React from \"react\";\nimport axios from \"axios\";\n\nconst LinkOptions = ({\n  passwordProtect,\n  setPasswordProtect,\n  password,\n  setPassword,\n  alias,\n  setAlias,\n  loading,\n  aliasAllowed,\n  setAliasAllowed,\n  passwordError,\n  aliasError,\n  passwordTouched,\n  setPasswordTouched,\n  setError,\n}) => {\n  const [aliasDebounce, setAliasDebounce] = React.useState(alias);\n  const [aliasAllowedText, setAliasAllowedText] = React.useState(\"Available\");\n  React.useEffect(() => {\n    if (aliasDebounce.length > 0) {\n      setAliasAllowed(false);\n      setAliasAllowedText(\"Checking\");\n    } else {\n      setAliasAllowed(true);\n    }\n    let timerID = setTimeout(() => {\n      if (aliasDebounce.length > 0) {\n        axios\n          .get(`/api/short/${aliasDebounce}/exists`)\n          .then(({ data: { exists } }) => {\n            if (exists) {\n              setAliasAllowed(false);\n              setAliasAllowedText(\"Not available\");\n            } else {\n              setAliasAllowed(true);\n              setAlias(aliasDebounce);\n              setAliasAllowedText(\"Available\");\n            }\n          })\n          .catch((err) => {\n            setError(\"Something went wrong\");\n            setAlias(\"\");\n            setAliasDebounce(\"\");\n            setAliasAllowed(true);\n            console.log(err);\n          });\n      } else {\n        setAlias(\"\");\n        setAliasAllowed(true);\n      }\n    }, 1000);\n    return () => {\n      clearTimeout(timerID);\n    };\n  }, [aliasDebounce, setAlias, setAliasAllowed, setError]);\n  return (\n    <div className=\"link-options\">\n      <p>Customize link</p>\n      <div className=\"password-protect\">\n        <label className=\"container\">\n          <div className={passwordProtect ? \"not-selected\" : \"selected\"}>\n            Public\n          </div>\n          <input\n            disabled={loading}\n            type=\"radio\"\n            checked={!passwordProtect}\n            onChange={() => {\n              setPassword(\"\");\n              setPasswordTouched(false);\n              setPasswordProtect(false);\n            }}\n            name=\"radio\"\n          />\n          <span className=\"checkmark\"></span>\n        </label>\n        <label className=\"container\">\n          <div className={!passwordProtect ? \"not-selected\" : \"selected\"}>\n            Secret\n          </div>\n          <input\n            disabled={loading}\n            type=\"radio\"\n            checked={passwordProtect}\n            onChange={() => setPasswordProtect(true)}\n            name=\"radio\"\n          />\n          <span className=\"checkmark\"></span>\n        </label>\n      </div>\n      {passwordProtect ? (\n        <input\n          className={`app-input ${passwordError ? \"error\" : \"\"}`}\n          style={{ marginTop: \"0px\" }}\n          placeholder=\"******** (required if secret is selected)\"\n          value={password}\n          onClick={() => setPasswordTouched(true)}\n          onChange={(e) => {\n            if (!passwordTouched) {\n              setPasswordTouched(true);\n            }\n            setPassword(e.target.value);\n          }}\n        />\n      ) : null}\n      <div className=\"alias\">\n        <label>{window.location.href}</label>\n        <input\n          className={`app-input ${aliasError ? \"error\" : \"\"}`}\n          placeholder=\"custom alias (optional)\"\n          value={aliasDebounce}\n          onChange={(e) => setAliasDebounce(e.target.value)}\n        />\n        {aliasDebounce.length > 0 ? (\n          <span className={aliasAllowed ? \"available\" : \"notavailable\"}>\n            {aliasAllowedText}\n          </span>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default LinkOptions;\n","import \"./Main.css\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport LinkOptions from \"./LinkOptions\";\n\nconst Main = ({\n  idToken,\n  username,\n  authenticated,\n  setError,\n  mobileMode,\n  shortURL,\n  setShortURL,\n}) => {\n  const [shorten, setShorten] = useState(true);\n  const [options, setOptions] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [url, setUrl] = useState(\"\");\n  const [linkOptions, setLinkOptions] = useState(false);\n  const [passwordProtect, setPasswordProtect] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [alias, setAlias] = useState(\"\");\n  const [aliasAllowed, setAliasAllowed] = useState(true);\n  const [urlTouched, setUrlTouched] = useState(false);\n  const [passwordTouched, setPasswordTouched] = useState(false);\n  const [urlError, setUrlError] = useState(false);\n  const [passwordError, setPasswordError] = useState(false);\n  const [aliasError, setAliasError] = useState(false);\n  const [copyButtonText, setCopyButtonText] = useState(\"Copy\");\n  const validateUrl = (value) =>\n    /(([\\w]+:)?\\/\\/)?(([\\d\\w]|%[a-fA-f\\d]{2,2})+(:([\\d\\w]|%[a-fA-f\\d]{2,2})+)?@)?([\\d\\w][-\\d\\w]{0,253}[\\d\\w]\\.)+[\\w]{2,63}(:[\\d]+)?(\\/([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)*(\\?(&?([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})=?)*)?(#([-+_~.\\d\\w]|%[a-fA-f\\d]{2,2})*)?/.test(\n      value\n    );\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!authenticated) {\n      setError(\"Please login to shorten URL\");\n      return;\n    }\n    if (shorten) {\n      highlightErrorFields();\n      return;\n    }\n    setLoading(true);\n    setOptions(true);\n    setShorten(true);\n    try {\n      const res = await axios({\n        method: \"POST\",\n        url: \"/api/shortUrls\",\n        data: {\n          full: url,\n          password: password.length > 0 ? password : undefined,\n          short: alias.length > 0 ? alias : undefined,\n          idToken,\n          username,\n        },\n      });\n      console.log(res);\n      if (res.status === 201 || res.status === 200) {\n        const {\n          data: {\n            shortUrl: { short },\n          },\n        } = res;\n        setCopyButtonText(\"Copy\");\n        setShortURL(window.location.href + short);\n        setUrl(\"\");\n        setLinkOptions(false);\n        setPasswordProtect(false);\n        setPassword(\"\");\n        setAlias(\"\");\n        setAliasAllowed(true);\n        setUrlTouched(false);\n        setPasswordTouched(false);\n        setUrlError(false);\n        setPasswordError(false);\n        setAliasError(false);\n      } else {\n        const {\n          data: { error },\n        } = res;\n        if (error === \"shortURL already exists\") {\n          setError(\"Alias is already in use\");\n          setAlias(\"\");\n        } else {\n          setError(error);\n        }\n        setShorten(false);\n      }\n      setLoading(false);\n      setOptions(false);\n    } catch (err) {\n      setError(\"Something went wrong\");\n      setShorten(false);\n      setLoading(false);\n      setOptions(false);\n      console.log(err);\n    }\n  };\n  const highlightErrorFields = () => {\n    if (url.length === 0) {\n      setUrlError(true);\n    }\n    if (linkOptions) {\n      if (passwordProtect) {\n        if (password.length === 0) {\n          setPasswordError(true);\n        }\n      }\n      if (alias.length > 0) {\n        if (!aliasAllowed) {\n          setAliasError(true);\n        }\n      }\n    }\n  };\n  useEffect(() => {\n    if (url.length > 0 && validateUrl(url)) {\n      setUrlError(false);\n      if (linkOptions) {\n        if (passwordProtect) {\n          if (password.length > 0 && aliasAllowed) {\n            setPasswordError(false);\n            setAliasError(false);\n            setShorten(false);\n          } else {\n            if (password.length === 0) {\n              if (passwordTouched) {\n                setPasswordError(true);\n              }\n            }\n            if (!aliasAllowed) {\n              setAliasError(true);\n            }\n            setShorten(true);\n          }\n        } else if (aliasAllowed) {\n          setPasswordError(false);\n          setAliasError(false);\n          setShorten(false);\n        } else {\n          setAliasError(true);\n          setShorten(true);\n        }\n      } else {\n        setPasswordError(false);\n        setAliasError(false);\n        setShorten(false);\n      }\n    } else {\n      if (urlTouched) {\n        setUrlError(true);\n      }\n      setShorten(true);\n    }\n  }, [\n    url,\n    linkOptions,\n    passwordProtect,\n    password,\n    aliasAllowed,\n    passwordTouched,\n    urlTouched,\n  ]);\n  useEffect(() => {\n    if (!authenticated) {\n      setCopyButtonText(\"Copy\");\n      setShortURL(null);\n      setUrl(\"\");\n      setLinkOptions(false);\n      setPasswordProtect(false);\n      setPassword(\"\");\n      setAlias(\"\");\n      setAliasAllowed(true);\n      setUrlTouched(false);\n      setPasswordTouched(false);\n      setUrlError(false);\n      setPasswordError(false);\n      setAliasError(false);\n    }\n  }, [authenticated, setShortURL]);\n  useEffect(() => {\n    let timerID;\n    if (shortURL && shortURL.length > 0) {\n      timerID = setTimeout(() => {\n        setShortURL(null);\n      }, 10000);\n    }\n    return () => {\n      clearTimeout(timerID);\n    };\n  }, [shortURL, setShortURL]);\n  return (\n    <div className=\"main\">\n      <p>GLAM URL Shortener</p>\n      {shortURL ? (\n        <div className=\"short-url\">\n          <span style={{ marginRight: \"0.5rem\" }}>Short URL is </span>\n          <a\n            style={{ wordBreak: \"break-all\" }}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            href={shortURL}\n          >\n            {mobileMode ? shortURL.slice(0, 30) + \"...\" : shortURL}\n          </a>\n          <span\n            className=\"copy-button\"\n            onClick={() => {\n              var fullLink = document.createElement(\"input\");\n              document.body.appendChild(fullLink);\n              fullLink.value = shortURL;\n              fullLink.select();\n              document.execCommand(\"copy\", false);\n              fullLink.remove();\n              setCopyButtonText(\"Copied\");\n            }}\n          >\n            {copyButtonText}\n          </span>\n        </div>\n      ) : null}\n      <div className=\"loader\" style={{ display: loading ? \"block\" : \"none\" }}>\n        <div className=\"loading\"></div>\n      </div>\n      <form onSubmit={handleSubmit}>\n        <input\n          className={`url-input ${urlError ? \"error\" : \"\"}`}\n          placeholder=\"http(s)://\"\n          value={url}\n          onClick={() => setUrlTouched(true)}\n          onChange={(e) => {\n            if (!urlTouched) {\n              setUrlTouched(true);\n            }\n            setUrl(e.target.value);\n          }}\n        />\n        {!linkOptions ? null : (\n          <LinkOptions\n            passwordProtect={passwordProtect}\n            setPasswordProtect={setPasswordProtect}\n            password={password}\n            setPassword={setPassword}\n            alias={alias}\n            setAlias={setAlias}\n            loading={loading}\n            aliasAllowed={aliasAllowed}\n            setAliasAllowed={setAliasAllowed}\n            passwordError={passwordError}\n            aliasError={aliasError}\n            passwordTouched={passwordTouched}\n            setPasswordTouched={setPasswordTouched}\n            setError={setError}\n          />\n        )}\n        <div className=\"form-buttons\">\n          <button type=\"submit\" className={shorten ? \"disabled\" : \"\"}>\n            Shorten\n          </button>\n          <button\n            type=\"button\"\n            onClick={() => {\n              if (options) {\n                return;\n              }\n              setLinkOptions((prev) => !prev);\n            }}\n            className={options ? \"disabled\" : \"\"}\n          >\n            Link Options\n          </button>\n        </div>\n      </form>\n      <p style={{ color: \"#98978b\", marginTop: \"1rem\", textAlign: \"center\" }}>\n        Did you know you can change the URL ending by clicking on \"Link\n        Options\"?\n      </p>\n    </div>\n  );\n};\n\nexport default Main;\n","import \"./List.css\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Table, Button, Popconfirm } from \"antd\";\n\nconst List = ({ username, idToken, shortURL, setError }) => {\n  const [urls, setUrls] = useState([]);\n  const [refreshUrls, setRefreshUrls] = useState(false);\n  const [count, setCount] = useState(0);\n  const [selectedRows, setSelectedRows] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loading1, setLoading1] = useState(false);\n  const [pageNumber, SetPageNumber] = useState(1);\n\n  const columns = [\n    {\n      title: \"Short\",\n      dataIndex: \"short\",\n      render: (short, { idx }) => (\n        <a\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          onClick={() => {\n            const temp = [...urls];\n            temp[idx] = {\n              ...temp[idx],\n              clicks: temp[idx].clicks + 1,\n            };\n            setUrls(temp);\n          }}\n          href={window.location.href + short}\n        >\n          {short}\n        </a>\n      ),\n    },\n    {\n      title: \"Full\",\n      dataIndex: \"full\",\n      render: (full) => <a href={full}>{full.slice(0, 50) + \"...\"}</a>,\n    },\n    {\n      title: \"Clicks\",\n      dataIndex: \"clicks\",\n    },\n    {\n      title: \"Protected\",\n      dataIndex: \"password\",\n      render: (password) => (password ? <p>&#x1F512;</p> : <h3>-</h3>),\n    },\n  ];\n\n  useEffect(() => {\n    axios\n      .post(\"/api\", { idToken, username, pageNumber })\n      .then((res) => {\n        let finalList = [];\n        res.data.shortUrls.forEach(\n          ({ short, full, clicks, _id, password }, idx) => {\n            finalList.push({\n              short,\n              full,\n              clicks,\n              key: _id,\n              password: password ? true : false,\n              idx,\n            });\n          }\n        );\n        setUrls(finalList);\n        axios\n          .get(`/api/shortUrls/count/${username}`)\n          .then(({ data: { count } }) => setCount(count))\n          .catch((err) => {\n            console.log(err);\n            setError(\"Something went wrong\");\n          });\n      })\n      .catch((err) => {\n        console.log(err);\n        setError(\"Something went wrong\");\n      });\n  }, [username, refreshUrls, idToken, setError, pageNumber]);\n\n  useEffect(() => {\n    setRefreshUrls((prev) => !prev);\n  }, [shortURL]);\n\n  const deleteUrlsFromList = () => {\n    setLoading(true);\n    const ids = [];\n    selectedRows.forEach((key) => {\n      ids.push(key);\n    });\n    axios\n      .delete(\"/api/shortUrls\", { data: { idToken, username, ids } })\n      .then(() => {\n        setSelectedRows([]);\n        setLoading(false);\n        SetPageNumber(1);\n        setRefreshUrls((prev) => !prev);\n      })\n      .catch((err) => {\n        setLoading(false);\n        console.log(err);\n        setError(\"Something went wrong\");\n      });\n  };\n\n  const deleteAllUrls = () => {\n    setLoading1(true);\n    axios\n      .delete(\"/api/shortUrls/all\", { data: { idToken, username } })\n      .then(() => {\n        setUrls([]);\n        setCount(0);\n        setLoading(false);\n        SetPageNumber(1);\n      })\n      .catch((err) => {\n        setLoading1(false);\n        console.log(err);\n        setError(\"Something went wrong\");\n      });\n  };\n\n  const rowSelection = {\n    selectedRows,\n    onChange: (selectedRowKeys) => setSelectedRows(selectedRowKeys),\n  };\n  const hasSelected = selectedRows.length > 0;\n\n  return (\n    <div className=\"list-container\">\n      <p>Table of links generated</p>\n      <div style={{ marginBottom: 16 }}>\n        <Popconfirm\n          title=\"Are you sure to delete selected URLs?\"\n          onCancel={deleteUrlsFromList}\n          okText=\"Cancel\"\n          cancelText=\"Delete\"\n        >\n          <Button type=\"danger\" disabled={!hasSelected} loading={loading}>\n            Delete\n          </Button>\n        </Popconfirm>\n        <span style={{ marginLeft: 8 }}>\n          {hasSelected ? `Selected ${selectedRows.length} items` : \"\"}\n        </span>\n      </div>\n      <Table\n        rowSelection={rowSelection}\n        columns={columns}\n        dataSource={urls}\n        scroll={{ x: 1000 }}\n        pagination={{\n          total: count,\n          showSizeChanger: false,\n          onChange: (page) => SetPageNumber(page),\n        }}\n      />\n      {count > 0 ? (\n        <Popconfirm\n          title=\"Are you sure to delete all URLs generated by you?\"\n          onCancel={deleteAllUrls}\n          okText=\"Cancel\"\n          cancelText=\"Delete\"\n        >\n          <Button style={{ margin: \"1rem 0\" }} type=\"danger\" loading={loading1}>\n            Delete all {count} links generated by you\n          </Button>\n        </Popconfirm>\n      ) : null}\n    </div>\n  );\n};\n\nexport default List;\n","const appId = process.env.REACT_APP_appId;\nconst tid = process.env.REACT_APP_tid;\nconst config = {\n  appId,\n  redirectUri: \"https://shorturl.cloudmantra.in/\",\n  scopes: [\"user.read\"],\n  authority: `https://login.microsoftonline.com/${tid}`,\n};\nexport default config;\n","import \"./App.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { message } from \"antd\";\nimport { PublicClientApplication } from \"@azure/msal-browser\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport List from \"./List2\";\nimport config from \"./config\";\n\nconst displayError = (err) => {\n  message.error(err);\n};\n\nconst App = () => {\n  let loginTimeoutID = null;\n  const [authenticated, setAuthenticated] = useState(false);\n  const [mobileMode, setMobileMode] = useState(false);\n  const [user, setUser] = useState(null);\n  const [idToken, setIdToken] = useState(null);\n  const [username, setUsername] = useState(null);\n  const [error, setError] = useState(null);\n  const [shortURL, setShortURL] = useState(null);\n\n  useEffect(() => {\n    if (window.innerWidth < 768) {\n      setMobileMode(true);\n    } else {\n      setMobileMode(false);\n    }\n    const windowResizeEventListener = window.addEventListener(\"resize\", () => {\n      if (window.innerWidth < 768) {\n        setMobileMode(true);\n      } else {\n        setMobileMode(false);\n      }\n    });\n    return () => {\n      window.removeEventListener(\"resize\", windowResizeEventListener);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (error) {\n      displayError(error);\n      setError(null);\n    }\n  }, [error]);\n\n  const publicClientApplication = new PublicClientApplication({\n    auth: {\n      clientId: config.appId,\n      redirectUri: config.redirectUri,\n      authority: config.authority,\n    },\n  });\n\n  const login = () => {\n    try {\n      publicClientApplication\n        .loginPopup({\n          scopes: config.scopes,\n          prompt: \"select_account\",\n        })\n        .then((res) => {\n          loginTimeoutID = setTimeout(logout, 3600000);\n          setUser(res.account.name);\n          setIdToken(res.idToken);\n          setUsername(res.account.username);\n          setAuthenticated(true);\n        });\n    } catch (err) {\n      console.log(err);\n      setError(\"Something went wrong! :(\");\n    }\n  };\n\n  const logout = () => {\n    try {\n      publicClientApplication.logoutPopup().then((res) => {\n        clearTimeout(loginTimeoutID);\n        setUser(null);\n        setAuthenticated(false);\n      });\n    } catch (err) {\n      console.log(err);\n      setError(\"Something went wrong! :(\");\n    }\n  };\n\n  return (\n    <div>\n      <div>\n        <Header\n          user={user}\n          authenticated={authenticated}\n          login={login}\n          logout={logout}\n        />\n        <Main\n          authenticated={authenticated}\n          idToken={idToken}\n          username={username}\n          setError={setError}\n          mobileMode={mobileMode}\n          shortURL={shortURL}\n          setShortURL={setShortURL}\n        />\n        {authenticated ? (\n          <List\n            idToken={idToken}\n            username={username}\n            shortURL={shortURL}\n            setError={setError}\n          />\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst Redirect = () => {\n  const [text, setText] = useState(\"Redirecting...\");\n  const [enablePasswordInput, setInput] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  useEffect(() => {\n    axios\n      .get(`/api/short/${window.location.pathname.slice(1)}`)\n      .then(({ data: { shortUrl } }) => {\n        if (typeof shortUrl === \"string\") {\n          setInput(true);\n        } else {\n          window.location.href = shortUrl.full;\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setText(\"Not found\");\n      });\n  }, []);\n  const handleSubmit = (e) => {\n    const action = () => {\n      axios({\n        method: \"POST\",\n        url: `/api/short/${window.location.pathname.slice(1)}`,\n        data: { password },\n      })\n        .then(({ data: { shortUrl } }) => {\n          window.location.href = shortUrl.full;\n        })\n        .catch((err) => {\n          console.log(err);\n          setText(\"Not found or Password incorrect\");\n        });\n    };\n    if (e.key === \"Enter\") {\n      action();\n    } else if (!e.key) {\n      action();\n    }\n  };\n  return (\n    <div\n      style={{\n        width: \"100vw\",\n        height: \"100vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n      }}\n    >\n      <p\n        style={{\n          fontSize: \"5vw\",\n          marginBottom: \"2rem\",\n          color: \"white\",\n          width: \"90vw\",\n          height: \"100px\",\n          backgroundColor: \"rgb(62, 63, 58)\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      >\n        GLAM URL Shortener\n      </p>\n      <h1 style={{ marginBottom: \"2rem\", color: \"rgb(62, 63, 58)\" }}>{text}</h1>\n      {enablePasswordInput ? (\n        <div style={{ display: \"flex\" }}>\n          <input\n            style={{\n              padding: \"1rem 2rem\",\n              textAlign: \"center\",\n              fontSize: \"1rem\",\n            }}\n            placeholder=\"Enter Password\"\n            value={password}\n            onChange={({ target: { value } }) => setPassword(value)}\n            onKeyPress={handleSubmit}\n          />\n          <span\n            style={{\n              marginLeft: \"1rem\",\n              cursor: \"pointer\",\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n            }}\n            onClick={handleSubmit}\n          >\n            Go\n          </span>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default Redirect;\n","import React from \"react\";\n\nconst About = () => {\n  return (\n    <div\n      style={{\n        width: \"100vw\",\n        height: \"100vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n      }}\n    >\n      <p\n        style={{\n          fontSize: \"5vw\",\n          marginBottom: \"2rem\",\n          color: \"white\",\n          width: \"90vw\",\n          height: \"100px\",\n          backgroundColor: \"rgb(62, 63, 58)\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      >\n        GLAM URL Shortener\n      </p>\n      <p style={{ marginTop: \"1rem\", fontSize: \"18px\", textAlign: \"center\" }}>\n        GLAM URL shortener which is a minimalist link shortening platform has\n        been built specifically for Oxford GLAM by{\" \"}\n        <a\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          href=\"https://www.cloudmantra.net\n          \"\n        >\n          cloudmantra\n        </a>\n      </p>\n    </div>\n  );\n};\n\nexport default About;\n","import ReactDOM from \"react-dom\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport App from \"./components/App\";\nimport Redirect from \"./components/Redirect\";\nimport About from \"./components/About\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <Switch>\n      <Route exact path=\"/aboutglamurlshortner\" component={About} />\n      <Route exact path=\"/\" component={App} />\n      <Route path=\"/:shortUrl\" component={Redirect} />\n    </Switch>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}